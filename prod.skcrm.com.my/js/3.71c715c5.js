(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0726":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("q-layout",{staticClass:" rounded-borders",staticStyle:{height:"100%"},attrs:{view:"lHh lpr lFf"}},[t.form.drawingNumber?i("q-chip",{attrs:{color:"primary","text-color":"white"}},[t._v("\n      "+t._s(t.form.drawingNumber)+"\n    ")]):t._e(),i("q-chip",{attrs:{color:"primary","text-color":"white"}},[t._v("\n      "+t._s(t.form.referenceName)+"\n    ")]),i("div",{staticClass:"text-h6 q-mt-md"},[t._v("\n      Customised Furniture\n    ")]),i("q-card",{staticClass:"q-mt-md"},[i("q-card-section",[i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-2 text-weight-bold"},[t._v("\n            Quantity\n          ")]),i("div",{staticClass:"col-2 text-weight-bold"},[t._v("\n            UOM\n          ")]),i("div",{staticClass:"col-2 text-weight-bold"},[t._v("\n            Model\n          ")]),i("div",{staticClass:"col-4 text-weight-bold"},[t._v("\n            Description\n          ")]),i("div",{staticClass:"col-2 text-weight-bold"},[t._v("\n            Amount (RM)\n          ")])]),i("q-list",t._l(t.quotationItem,(function(s){return i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s.uuid,attrs:{clickable:""},on:{click:function(i){return t.showChildren(s)}}},[i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-2"},[t._v("\n                "+t._s(s.quantity)+"\n              ")]),i("div",{staticClass:"col-2"},[t._v("\n                Unit\n              ")]),i("div",{staticClass:"col-2"},[t._v("\n                "+t._s(s.productNumber)+"\n              ")]),i("div",{staticClass:"col-4"},[t._v("\n                "+t._s(s.brandGoodName)+"\n              ")]),i("div",{staticClass:"col-2"},[t._v("\n                "+t._s(s.recommendedRetailPrice.toFixed(2))+"\n              ")]),i("q-separator",{staticClass:"q-my-sm"})],1)])})),1),i("div",{staticClass:"row"},[i("div",{staticClass:"col-7 q-ml-xl text-weight-bold"}),i("div",{staticClass:"col-2"},[i("q-input",{staticClass:"q-pb-none q-gutter-sm row justify-center items-center",attrs:{label:"Discount (%)"},model:{value:t.masterItemDiscount,callback:function(s){t.masterItemDiscount=s},expression:"masterItemDiscount"}})],1),i("div",{staticClass:"col-2"},[i("q-input",{staticClass:"q-pb-none q-ml-sm q-gutter-sm row justify-center items-center",attrs:{label:"Total Price (RM)",disable:""},model:{value:t.form.totalPriceDrawingItems,callback:function(s){t.$set(t.form,"totalPriceDrawingItems",s)},expression:"form.totalPriceDrawingItems"}})],1)])],1)],1),i("div",{staticClass:"text-h6 q-mt-md"},[t._v("\n      Optional Items\n    ")]),t.baskets.length?i("q-card",{staticClass:"q-mt-md"},[i("q-card-section",[i("div",{staticClass:"col-4 q-mb-md text-weight-bold"},[t._v("\n          Basket\n        ")]),t.baskets.length?i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-2"},[t._v("\n              Quantity\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              UOM\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              Model\n            ")]),i("div",{staticClass:"col-4"},[t._v("\n              Description\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Amount(RM)\n            ")]),i("q-separator",{staticClass:"q-my-sm"})],1),t._l(t.baskets,(function(s){return i("div",{key:s.uuid,staticClass:"row full-width q-mb-sm"},[i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.quantity)+"\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              Unit\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              "+t._s(s.productNumber)+"\n            ")]),i("div",{staticClass:"col-4"},[t._v("\n              "+t._s(s.brandGoodName)+"\n            ")]),i("div",{staticClass:"col-1 justify-center item-center"},[t._v("\n              "+t._s(s.recommendedRetailPrice.toFixed(2))+"\n            ")])])}))],2):t._e()])],1):t._e(),i("q-card",{staticClass:"q-mt-md"},[i("q-card-section",[i("div",{staticClass:"col-4 q-mb-md text-weight-bold"},[t._v("\n          Worktop\n        ")]),i("div",{staticClass:"row q-gutter-sm justify"},[i("div",{staticClass:"col-3"},[i("select-with-filter",{staticClass:"q-pb-none",attrs:{options:t.options.worktop,label:"Category"},model:{value:t.selectedWorktop,callback:function(s){t.selectedWorktop=s},expression:"selectedWorktop"}})],1),i("div",{staticClass:"col-6"},[i("select-with-filter",{staticClass:"q-pb-none q-ml-md",attrs:{options:t.options.filteredWorktopItems,label:"Name"},model:{value:t.form.worktopItem,callback:function(s){t.$set(t.form,"worktopItem",s)},expression:"form.worktopItem"}})],1),i("div",{staticClass:"col-2"},[i("q-btn",{staticClass:"q-pb-none q-ml-md q-mt-sm",attrs:{color:"primary",label:"Add"},on:{click:function(s){return t.onClickAddTradingItem(t.form.worktopItem)}}})],1)]),t.worktops.length?i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-2"},[t._v("\n              Quantity\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              UOM\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              Model\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              Description\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Discount(%)\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Amount(RM)\n            ")]),i("q-separator",{staticClass:"q-my-sm"})],1),t._l(t.worktops,(function(s){return i("div",{key:s.uuid,staticClass:"row full-width"},[i("q-input",{staticClass:"col-2",attrs:{type:"number",dense:"",borderless:"",label:"Quantity",rules:[function(t){return t>=0}]},model:{value:s.quantity,callback:function(i){t.$set(s,"quantity",t._n(i))},expression:"worktop.quantity"}}),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.uom)+"\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.itemcode)+"\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              "+t._s(s.name)+"\n            ")]),i("q-input",{staticClass:"col-1",attrs:{dense:"",borderless:"",label:"Discount(%)"},model:{value:s.discount,callback:function(i){t.$set(s,"discount",i)},expression:"worktop.discount"}}),i("div",{staticClass:"col-1 justify-center item-center"},[t._v("\n              "+t._s(s.stdcost.toFixed(2))+"\n            ")]),i("q-btn",{staticClass:"col-1",attrs:{icon:"delete",color:"negative",flat:""},on:{click:function(i){return t.onDelete(s.uuid)}}})],1)}))],2):t._e()])],1),i("q-card",{staticClass:"q-mt-md"},[i("q-card-section",[i("div",{staticClass:"col-4 q-mb-md text-weight-bold"},[t._v("\n          Kitchen Appliances\n        ")]),i("div",{staticClass:"row q-gutter-sm justify"},[i("div",{staticClass:"col-3"},[i("select-with-filter",{staticClass:"q-pb-none",attrs:{options:t.options.kitchenAppliances,label:"Subcategory"},model:{value:t.selectedKitchenAppliances,callback:function(s){t.selectedKitchenAppliances=s},expression:"selectedKitchenAppliances"}})],1),i("div",{staticClass:"col-6"},[i("select-with-filter",{staticClass:"q-pb-none q-ml-md",attrs:{options:t.options.filteredKitchenAppliances,label:"Name"},model:{value:t.form.kitchenAppliancesItem,callback:function(s){t.$set(t.form,"kitchenAppliancesItem",s)},expression:"form.kitchenAppliancesItem"}})],1),i("div",{staticClass:"col-2"},[i("q-btn",{staticClass:"q-pb-none q-ml-md q-mt-sm",attrs:{color:"primary",label:"Add"},on:{click:function(s){return t.onClickAddTradingItem(t.form.kitchenAppliancesItem)}}})],1)]),t.kitchens.length?i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-2"},[t._v("\n              Quantity\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              UOM\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              Model\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              Description\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Discount(%)\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Price(RM)\n            ")]),i("q-separator",{staticClass:"q-my-sm"})],1),t._l(t.kitchens,(function(s){return i("div",{key:s.uuid,staticClass:"row full-width"},[i("q-input",{staticClass:"col-2",attrs:{type:"number",dense:"",borderless:"",label:"Quantity",rules:[function(t){return t>=0}]},model:{value:s.quantity,callback:function(i){t.$set(s,"quantity",t._n(i))},expression:"kitchen.quantity"}}),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.uom)+"\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.itemcode)+"\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              "+t._s(s.name)+"\n            ")]),i("q-input",{staticClass:"col-1",attrs:{type:"number",dense:"",borderless:"",label:"Discount(%)",min:"0",max:"100",rules:[function(t){return t>=0&&t<=100}],"lazy-rules":""},model:{value:s.discount,callback:function(i){t.$set(s,"discount",t._n(i))},expression:"kitchen.discount"}}),i("div",{staticClass:"col-1 justify-center item-center"},[t._v("\n              "+t._s(((s.stdcost*s.markuprate).toFixed(2)*s.quantity*((100-s.discount)/100)).toFixed(2))+"\n            ")]),i("q-btn",{staticClass:"col-1",attrs:{icon:"delete",color:"negative",flat:""},on:{click:function(i){return t.onDelete(s.uuid)}}})],1)}))],2):t._e()])],1),i("q-card",{staticClass:"q-mt-md"},[i("q-card-section",[i("div",{staticClass:"col-4 q-mb-md text-weight-bold"},[t._v("\n          Sink & Tap\n        ")]),i("div",{staticClass:"row q-gutter-sm justify"},[i("div",{staticClass:"col-3"},[i("select-with-filter",{staticClass:"q-pb-none",attrs:{options:t.options.sinkAndTap,label:"Category"},model:{value:t.selectedSinkAndTap,callback:function(s){t.selectedSinkAndTap=s},expression:"selectedSinkAndTap"}})],1),i("div",{staticClass:"col-6"},[i("select-with-filter",{staticClass:"q-pb-none q-ml-md",attrs:{options:t.options.filteredSinkAndTapItems,label:"Name"},model:{value:t.form.sinkAndTapItem,callback:function(s){t.$set(t.form,"sinkAndTapItem",s)},expression:"form.sinkAndTapItem"}})],1),i("div",{staticClass:"col-2"},[i("q-btn",{staticClass:"q-pb-none q-ml-md q-mt-sm",attrs:{color:"primary",label:"Add"},on:{click:function(s){return t.onClickAddTradingItem(t.form.sinkAndTapItem)}}})],1)]),t.sinks.length?i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-2"},[t._v("\n              Quantity\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              UOM\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              Model\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              Description\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Discount(%)\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Price(RM)\n            ")]),i("q-separator",{staticClass:"q-my-sm"})],1),t._l(t.sinks,(function(s){return i("div",{key:s.uuid,staticClass:"row full-width"},[i("q-input",{staticClass:"col-2",attrs:{type:"number",dense:"",borderless:"",label:"Quantity",rules:[function(t){return t>=0}]},model:{value:s.quantity,callback:function(i){t.$set(s,"quantity",t._n(i))},expression:"sink.quantity"}}),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.uom)+"\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.itemcode)+"\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              "+t._s(s.name)+"\n            ")]),i("q-input",{staticClass:"col-1",attrs:{type:"number",dense:"",borderless:"",label:"Discount(%)",min:"0",max:"100",rules:[function(t){return t>=0&&t<=100}]},model:{value:s.discount,callback:function(i){t.$set(s,"discount",t._n(i))},expression:"sink.discount"}}),i("div",{staticClass:"col-1 justify-center item-center"},[t._v("\n              "+t._s(((s.stdcost*s.markuprate).toFixed(2)*s.quantity*((100-s.discount)/100)).toFixed(2))+"\n            ")]),i("q-btn",{staticClass:"col-1",attrs:{icon:"delete",color:"negative",flat:""},on:{click:function(i){return t.onDelete(s.uuid)}}})],1)}))],2):t._e()])],1),i("q-card",{staticClass:"q-mt-md"},[i("q-card-section",[i("div",{staticClass:"col-4 q-mb-md text-weight-bold"},[t._v("\n          Fitting and Accessories\n        ")]),i("div",{staticClass:"row q-gutter-sm justify"},[i("div",{staticClass:"col-3"},[i("select-with-filter",{staticClass:"q-pb-none",attrs:{options:t.options.fittingAndAccessories,label:"Category"},model:{value:t.selectedFittingAndAccessories,callback:function(s){t.selectedFittingAndAccessories=s},expression:"selectedFittingAndAccessories"}})],1),i("div",{staticClass:"col-6"},[i("select-with-filter",{staticClass:"q-pb-none q-ml-md",attrs:{options:t.options.filteredFittingAndAccessoriesItems,label:"Name"},model:{value:t.form.fittingAndAccessoriesItem,callback:function(s){t.$set(t.form,"fittingAndAccessoriesItem",s)},expression:"form.fittingAndAccessoriesItem"}})],1),i("div",{staticClass:"col-2"},[i("q-btn",{staticClass:"q-pb-none q-ml-md q-mt-sm",attrs:{color:"primary",label:"Add"},on:{click:function(s){return t.onClickAddTradingItem(t.form.fittingAndAccessoriesItem)}}})],1)]),t.fittingAndAccessories.length?i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-2"},[t._v("\n              Quantity\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              UOM\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              Model\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              Description\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Discount(%)\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Price(RM)\n            ")]),i("q-separator",{staticClass:"q-my-sm"})],1),t._l(t.fittingAndAccessories,(function(s){return i("div",{key:s.uuid,staticClass:"row full-width"},[i("q-input",{staticClass:"col-2",attrs:{type:"number",dense:"",borderless:"",label:"Quantity",rules:[function(t){return t>=0}]},model:{value:s.quantity,callback:function(i){t.$set(s,"quantity",t._n(i))},expression:"worktop.quantity"}}),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.uom)+"\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.itemcode)+"\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              "+t._s(s.name)+"\n            ")]),i("q-input",{staticClass:"col-1",attrs:{type:"number",dense:"",borderless:"",label:"Discount(%)",min:"0",max:"100",rules:[function(t){return t>=0&&t<=100}]},model:{value:s.discount,callback:function(i){t.$set(s,"discount",t._n(i))},expression:"worktop.discount"}}),i("div",{staticClass:"col-1 justify-center item-center"},[t._v("\n              "+t._s(((s.stdcost*s.markuprate).toFixed(2)*s.quantity*((100-s.discount)/100)).toFixed(2))+"\n            ")]),i("q-btn",{staticClass:"col-1",attrs:{icon:"delete",color:"negative",flat:""},on:{click:function(i){return t.onDelete(s.uuid)}}})],1)}))],2):t._e()])],1),i("q-card",{staticClass:"q-mt-md"},[i("q-card-section",[i("div",{staticClass:"col-4 q-mb-md text-weight-bold"},[t._v("\n          Wall Cladding\n        ")]),i("div",{staticClass:"row q-gutter-sm justify"},[i("div",{staticClass:"col-3"},[i("select-with-filter",{staticClass:"q-pb-none",attrs:{options:t.options.wallCladding,label:"Category"},model:{value:t.selectedWallCladding,callback:function(s){t.selectedWallCladding=s},expression:"selectedWallCladding"}})],1),i("div",{staticClass:"col-6"},[i("select-with-filter",{staticClass:"q-pb-none q-ml-md",attrs:{options:t.options.filteredWallCladdingItems,label:"Name"},model:{value:t.form.wallCladdingItem,callback:function(s){t.$set(t.form,"wallCladdingItem",s)},expression:"form.wallCladdingItem"}})],1),i("div",{staticClass:"col-2"},[i("q-btn",{staticClass:"q-pb-none q-ml-md q-mt-sm",attrs:{color:"primary",label:"Add"},on:{click:function(s){return t.onClickAddTradingItem(t.form.wallCladdingItem)}}})],1)]),t.wallCladding.length?i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-2"},[t._v("\n              Quantity\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              UOM\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              Model\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              Description\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Discount(%)\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Price(RM)\n            ")]),i("q-separator",{staticClass:"q-my-sm"})],1),t._l(t.wallCladding,(function(s){return i("div",{key:s.uuid,staticClass:"row full-width"},[i("q-input",{staticClass:"col-2",attrs:{type:"number",dense:"",borderless:"",label:"Quantity",rules:[function(t){return t>=0}]},model:{value:s.quantity,callback:function(i){t.$set(s,"quantity",t._n(i))},expression:"worktop.quantity"}}),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.uom)+"\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.itemcode)+"\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              "+t._s(s.name)+"\n            ")]),i("q-input",{staticClass:"col-1",attrs:{type:"number",dense:"",borderless:"",label:"Discount(%)",min:"0",max:"100",rules:[function(t){return t>=0&&t<=100}]},model:{value:s.discount,callback:function(i){t.$set(s,"discount",t._n(i))},expression:"worktop.discount"}}),i("div",{staticClass:"col-1 justify-center item-center"},[t._v("\n              "+t._s(((s.stdcost*s.markuprate).toFixed(2)*s.quantity*((100-s.discount)/100)).toFixed(2))+"\n            ")]),i("q-btn",{staticClass:"col-1",attrs:{icon:"delete",color:"negative",flat:""},on:{click:function(i){return t.onDelete(s.uuid)}}})],1)}))],2):t._e()])],1),i("q-card",{staticClass:"q-mt-md"},[i("q-card-section",[i("div",{staticClass:"col-4 q-mb-md text-weight-bold"},[t._v("\n          Worktop Slab\n        ")]),i("div",{staticClass:"row q-gutter-sm justify"},[i("div",{staticClass:"col-3"},[i("select-with-filter",{staticClass:"q-pb-none",attrs:{options:t.options.worktopSlab,label:"Category"},model:{value:t.selectedWorktopSlab,callback:function(s){t.selectedWorktopSlab=s},expression:"selectedWorktopSlab"}})],1),i("div",{staticClass:"col-6"},[i("select-with-filter",{staticClass:"q-pb-none q-ml-md",attrs:{options:t.options.filteredWorktopSlabItems,label:"Name"},model:{value:t.form.worktopSlabItem,callback:function(s){t.$set(t.form,"worktopSlabItem",s)},expression:"form.worktopSlabItem"}})],1),i("div",{staticClass:"col-2"},[i("q-btn",{staticClass:"q-pb-none q-ml-md q-mt-sm",attrs:{color:"primary",label:"Add"},on:{click:function(s){return t.onClickAddTradingItem(t.form.worktopSlabItem)}}})],1)]),t.worktopSlabs.length?i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-2"},[t._v("\n              Quantity\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              UOM\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              Model\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              Description\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Discount(%)\n            ")]),i("div",{staticClass:"col-1"},[t._v("\n              Price(RM)\n            ")]),i("q-separator",{staticClass:"q-my-sm"})],1),t._l(t.worktopSlabs,(function(s){return i("div",{key:s.uuid,staticClass:"row full-width"},[i("q-input",{staticClass:"col-2",attrs:{type:"number",dense:"",borderless:"",label:"Quantity",rules:[function(t){return t>=0}]},model:{value:s.quantity,callback:function(i){t.$set(s,"quantity",t._n(i))},expression:"worktop.quantity"}}),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.uom)+"\n            ")]),i("div",{staticClass:"col-2"},[t._v("\n              "+t._s(s.itemcode)+"\n            ")]),i("div",{staticClass:"col-3"},[t._v("\n              "+t._s(s.name)+"\n            ")]),i("q-input",{staticClass:"col-1",attrs:{type:"number",dense:"",borderless:"",label:"Discount(%)",min:"0",max:"100",rules:[function(t){return t>=0&&t<=100}]},model:{value:s.discount,callback:function(i){t.$set(s,"discount",t._n(i))},expression:"worktop.discount"}}),i("div",{staticClass:"col-1 justify-center item-center"},[t._v("\n              "+t._s(((s.stdcost*s.markuprate).toFixed(2)*s.quantity*((100-s.discount)/100)).toFixed(2))+"\n            ")]),i("q-btn",{staticClass:"col-1",attrs:{icon:"delete",color:"negative",flat:""},on:{click:function(i){return t.onDelete(s.uuid)}}})],1)}))],2):t._e()])],1),i("div",{staticClass:"text-h6 q-mt-md"},[t._v("\n      Detail Quotation Grand Total\n    ")]),i("q-card",{staticClass:"q-mt-md"},[i("q-card-section",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-2 text-weight-bold"},[t._v("\n            Description\n          ")]),i("div",{staticClass:"col-8 text-weight-bold"}),i("div",{staticClass:"col-2 text-weight-bold"},[t._v("\n            Amount (RM)\n          ")])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-2"},[t._v("\n            Customised Furniture\n          ")]),i("div",{staticClass:"col-8 text-weight-bold"}),i("div",{staticClass:"col-2"},[t._v("\n            "+t._s(t.form.totalPriceDrawingItems.toFixed(2))+"\n          ")])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-2"},[t._v("\n            Optional Items\n          ")]),i("div",{staticClass:"col-8 text-weight-bold"}),i("div",{staticClass:"col-2"},[t._v("\n            "+t._s(t.form.totalPriceTradingItems.toFixed(2))+"\n          ")])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-10 text-weight-bold"}),i("div",{staticClass:"col-2 text-weight-bold"},[t._v("\n            Grand Total (RM)\n          ")])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-10 text-weight-bold"}),i("div",{staticClass:"col-2"},[t._v("\n            "+t._s(t.form.totalPrice.toFixed(2))+"\n          ")])])])],1),i("div",{staticClass:"q-mt-md",attrs:{align:"right"}},[i("q-btn",{attrs:{color:"primary",label:"Calculate"},on:{click:t.onClickConfirm}})],1)],1),i("q-dialog",{model:{value:t.isDialogShowChildrenOpen,callback:function(s){t.isDialogShowChildrenOpen=s},expression:"isDialogShowChildrenOpen"}},[i("q-card",{staticStyle:{"max-width":"1000px",width:"1000px"}},[i("q-card-section",[i("p",{staticClass:"text-h3 text-center"},[t._v("\n          "+t._s(t.itemToShowChildren.brandGoodName)+"\n        ")])]),i("q-card-section",{staticClass:"full-width"},[i("div",{staticClass:"row full-width"},[i("div",{staticClass:"col-1 text-weight-bold text-center"},[t._v("\n            Quantity\n          ")]),i("div",{staticClass:"col-2 text-weight-bold text-center"},[t._v("\n            UOM\n          ")]),i("div",{staticClass:"col-2 text-weight-bold text-center"},[t._v("\n            Model\n          ")]),i("div",{staticClass:"col-3 text-weight-bold text-center"},[t._v("\n            Description\n          ")]),i("div",{staticClass:"col-2 text-weight-bold text-center"},[t._v("\n            Dimension\n          ")]),i("div",{staticClass:"col-2 text-weight-bold text-center"},[t._v("\n            Material / Colour / Profile\n          ")])]),i("q-list",t._l(t.itemToShowChildren.children,(function(s){return i("q-item",{key:s.uuid},[i("div",{staticClass:"row full-width text-center"},[i("div",{staticClass:"col-1 text-center"},[t._v("\n                "+t._s(s.quantity||"-")+"\n              ")]),i("div",{staticClass:"col-2 text-center"},[t._v("\n                Unit\n              ")]),i("div",{staticClass:"col-2 text-center"},[t._v("\n                "+t._s(s.productNumber||"-")+"\n              ")]),i("div",{staticClass:"col-3"},[t._v("\n                "+t._s(s.brandGoodName||"-")+"\n              ")]),i("div",{staticClass:"col-2"},[t._v("\n                "+t._s(s.dimensions||"-")+"\n              ")]),i("div",{staticClass:"col-2"},[t._v("\n                "+t._s(s.materialName||"-")+"\n              ")]),i("q-separator",{staticClass:"q-my-sm"})],1)])})),1)],1)],1)],1)],1)},n=[],a=(i("ddb0"),i("ded3")),o=i.n(a),l=i("c973"),c=i.n(l),r=i("36dc"),d={components:{SelectWithFilter:r["a"]},data(){return{itemToShowChildren:{},isDialogShowChildrenOpen:!1,quotation:{},quotationItem:[],brandGoods:[],tradingItems:[],masterItemDiscount:null,baskets:[],worktops:[],kitchens:[],sinks:[],fittingAndAccessories:[],wallCladding:[],worktopSlabs:[],form:{drawingNumber:"",totalPriceDrawingItems:0,totalPriceTradingItems:0,totalPrice:0,totalInstallationCharges:null,transportationCharge:null,fittingAndAccessories:[],kitchenAppliances:"",kitchenAppliancesItem:"",sinkAndTap:"",sinkAndTapItem:"",selectedWorktop:"",worktopItem:"",fittingAndAccessoriesItem:"",wallCladdingItem:"",worktopSlabItem:""},options:{fittingAndAccessories:[],fittingAndAccessoriesItems:[],wallCladding:[],wallCladdingItems:[],kitchenAppliances:[],kitchenAppliancesItems:[],sinkAndTap:[],sinkAndTapItems:[],worktop:[],worktopItems:[],worktopSlab:[],worktopSlabItems:[],filteredWorktopItems:[],filteredKitchenAppliances:[],filteredSinkAndTap:[],filteredFittingAndAccessories:[],filteredWallCladding:[]},selectedWorktop:"",selectedSinkAndTap:"",selectedKitchenAppliances:"",selectedFittingAndAccessories:"",selectedWallCladding:"",selectedWorktopSlab:""}},computed:{validDiscount(t){return t>=0&&t<=100}},watch:{masterItemDiscount(t,s){this.form.totalPriceDrawingItems=this.form.totalPriceDrawingItems-this.form.totalPriceDrawingItems*t/100},tradingItems(t,s){this.worktops=t.filter(t=>"Worktop"===t.category),this.kitchens=t.filter(t=>"Kitchen Appliances"===t.category),this.sinks=t.filter(t=>"Sink and Tap"===t.category),this.fittingAndAccessories=t.filter(t=>"Fitting and Accessories"===t.category),this.wallCladding=t.filter(t=>"Wall Cladding"===t.category),this.worktopSlabs=t.filter(t=>"Worktop Slab"===t.category)},selectedWorktop(t,s){this.options.filteredWorktopItems=this.options.worktopItems.filter(s=>s.subcategory===t)},selectedKitchenAppliances(t,s){this.options.filteredKitchenAppliances=this.options.kitchenAppliancesItems.filter(s=>s.subcategory===t)},selectedSinkAndTap(t,s){this.options.filteredSinkAndTapItems=this.options.sinkAndTapItems.filter(s=>s.subcategory===t)},selectedFittingAndAccessories(t,s){this.options.filteredFittingAndAccessoriesItems=this.options.fittingAndAccessoriesItems.filter(s=>s.subcategory===t)},selectedWallCladding(t,s){this.options.filteredWallCladdingItems=this.options.wallCladdingItems.filter(s=>s.subcategory===t)},selectedWorktopSlab(t,s){this.options.filteredWorktopSlabItems=this.options.worktopSlabItems.filter(s=>s.subcategory===t)}},created(){var t=this;return c()((function*(){if(t.quotation=yield t.$store.dispatch("GetDesigns",t.$route.params.designId),console.log("qq",t.quotation),t.form.referenceName=t.quotation.referenceName,t.form.drawingNumber=t.quotation.drawingNumber,t.form.totalPriceDrawingItems=t.quotation.totalPriceDrawingItems,t.form.totalPriceTradingItems=t.quotation.totalPriceTradingItems,t.form.totalInstallationCharges=t.quotation.totalInstallationCharges,t.form.transportationCharge=t.quotation.transportationCharge,t.form.totalPrice=t.quotation.totalPrice,t.quotation.quotationDetails&&(t.baskets=t.quotation.quotationDetails.filter(t=>"Basket"===t.subcategory),t.quotationItem=t.quotation.quotationDetails.filter(t=>"Basket"!==t.subcategory)),t.quotationItem){for(const s of t.quotationItem)s.dimensions=t.itemSizeToString(s.size);t.buildItemTree()}const s=yield t.$store.dispatch("GetTradingItems");if(t.options.wallCladding=t.getSubCategoryOptionsForCategory("Wall Cladding",s),t.options.wallCladdingItems=t.getTradingItemOptionsForCategory("Wall Cladding",s),t.options.fittingAndAccessories=t.getSubCategoryOptionsForCategory("Fitting and Accessories",s),t.options.fittingAndAccessoriesItems=t.getTradingItemOptionsForCategory("Fitting and Accessories",s),t.options.worktopSlab=t.getSubCategoryOptionsForCategory("Worktop Slab",s),t.options.worktopSlabItems=t.getTradingItemOptionsForCategory("Worktop Slab",s),t.options.worktop=t.getSubCategoryOptionsForCategory("Worktop",s),t.options.worktopItems=t.getTradingItemOptionsForCategory("Worktop",s),t.options.kitchenAppliances=t.getSubCategoryOptionsForCategory("Kitchen Appliances",s),t.options.kitchenAppliancesItems=t.getTradingItemOptionsForCategory("Kitchen Appliances",s),t.options.sinkAndTap=t.getSubCategoryOptionsForCategory("Sink and Tap",s),t.options.sinkAndTapItems=t.getTradingItemOptionsForCategory("Sink and Tap",s),t.quotation.tradingItems)for(const i of t.quotation.tradingItems){const s=o()(o()({},i),{},{quantity:i.designAdditionalItems[0].quantity,discount:100*i.designAdditionalItems[0].discount});"Worktop"===i.category?t.worktops.push(s):"Kitchen Appliances"===i.category?t.kitchens.push(s):"Sink and Tap"===i.category&&t.sinks.push(s),t.tradingItems.push(s)}}))()},methods:{getTradingItemOptionsForCategory(t,s){return s.filter(s=>s.category===t).map(t=>{const s=[];return s.label=t.name,s.value=t.uuid,s.subcategory=t.subcategory,s})},getSubCategoryOptionsForCategory(t,s){const i=s.filter(s=>s.category===t).map(t=>t.subcategory),e=[...new Set(i)];return e.map(t=>{const s=[];return s.label=t,s.value=t,s})},buildItemTree(){if(!this.quotationItem)return;const t=this.quotationItem.filter(t=>!!t.parentId);for(const s of t){const t=this.quotationItem.findIndex(t=>t.id===s.parentId);-1!==t&&(this.quotationItem[t].children||(this.quotationItem[t].children=[]),this.quotationItem[t].children.push(s))}this.quotationItem=this.quotationItem.filter(t=>!t.parentId)},showChildren(t){this.itemToShowChildren=t,this.isDialogShowChildrenOpen=!0},itemSizeToString(t){const{x:s,y:i,z:e}=t;return`${s} x ${e} x ${i}`},remove_duplicates(t){for(var s={},i=[],e=0;e<t.length;e++)t[e].label in s||(i.push(t[e]),s[t[e].label]=!0);return i},onClickAddTradingItem(t){var s=this;return c()((function*(){const i=yield s.$store.dispatch("GetTradingItems"),[e]=i.filter(s=>s.uuid===t);s.$notify("success","Successfully add "+e.name),s.tradingItems.push(o()(o()({},e),{},{quantity:1,discount:0})),console.log("items",s.tradingItems)}))()},onDelete(t){this.tradingItems=this.tradingItems.filter(s=>s.uuid!==t),this.$notify("success","Successfully deleted")},onClickConfirm(){var t=this;return c()((function*(){const s=t.tradingItems.map(t=>({uuid:t.uuid,quantity:parseInt(t.quantity),discount:parseFloat(t.discount/100)}));try{const{totalPrice:i,transportationCharge:e,totalPriceTradingItems:n}=yield t.$store.dispatch("CalculateAllDetailed",{designId:t.$route.params.designId,tradingItems:s});t.form.totalPrice=i,t.form.transportationCharge=e,t.form.totalPriceTradingItems=n,t.$notify("success","Successfully calculate trading items")}catch(i){console.log(i.response);const s=i.response.data.error.message;t.$notify("error",s)}}))()}}},u=d,m=(i("7106"),i("2877")),p=Object(m["a"])(u,e,n,!1,null,null,null);s["default"]=p.exports},2257:function(t,s,i){},"36dc":function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("q-select",{staticClass:"q-pb-none q-ml-sm",attrs:{options:t.filteredOptions,label:t.label,outlined:"",dense:"","emit-value":"","use-input":"","input-debounce":"0","map-options":"","stack-label":"",clearable:""},on:{filter:t.filterFn,input:t.onInput},model:{value:t.m_val,callback:function(s){t.m_val=s},expression:"m_val"}})},n=[],a=(i("c975"),i("ddb0"),{props:{options:{type:Array,default:()=>[],required:!0},value:{type:String,default:"",required:!0},label:{type:String,default:"",required:!0}},data(){return{filteredOptions:[],m_val:""}},created(){this.filteredOptions=[...this.options]},methods:{filterFn(t,s){""!==t&&this.options.length?s(()=>{const s=t.toLowerCase();this.options[0].label?this.filteredOptions=this.options.filter(t=>t.label.toLowerCase().indexOf(s)>-1):this.filteredOptions=this.options.filter(t=>t.toLowerCase().indexOf(s)>-1)}):s(()=>{this.filteredOptions=this.options})},onInput(t){this.$emit("input",t)}}}),o=a,l=i("2877"),c=Object(l["a"])(o,e,n,!1,null,null,null);s["a"]=c.exports},7106:function(t,s,i){"use strict";var e=i("2257"),n=i.n(e);n.a}}]);