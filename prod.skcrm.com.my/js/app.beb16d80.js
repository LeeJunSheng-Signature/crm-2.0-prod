(function(e){function t(t){for(var r,n,o=t[0],l=t[1],d=t[2],u=0,c=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&c.push(i[n][0]),i[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);m&&m(t);while(c.length)c.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,n=1;n<a.length;n++){var o=a[n];0!==i[o]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},n={1:0},i={1:0},s=[];function o(e){return l.p+"js/"+({}[e]||e)+"."+{2:"0be4df88",3:"c6ee455a",4:"982574fa",5:"42c3026e",6:"064666a9",7:"6b482965",8:"f957ff47",9:"a14cb4e4",10:"c14a896d"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={2:1,3:1,4:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var r="css/"+({}[e]||e)+"."+{2:"2418215c",3:"10acbb5c",4:"419c7bc5",5:"31d6cfe0",6:"31d6cfe0",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0"}[e]+".css",i=l.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var d=s[o],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===r||u===i))return t()}var c=document.getElementsByTagName("style");for(o=0;o<c.length;o++){d=c[o],u=d.getAttribute("data-href");if(u===r||u===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete n[e],m.parentNode.removeChild(m),a(s)},m.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){n[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,a){r=i[e]=[t,a]}));t.push(r[2]=s);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=o(e);var c=new Error;d=function(t){u.onerror=u.onload=null,clearTimeout(m);var a=i[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",c.name="ChunkLoadError",c.type=r,c.request=n,a[1](c)}i[e]=void 0}};var m=setTimeout((function(){d({type:"timeout",target:u})}),12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var c=0;c<d.length;c++)t(d[c]);var m=u;s.push([0,0]),a()})({0:function(e,t,a){e.exports=a("2f39")},"0006":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),name:this.attr(""),displayName:this.attr(""),createdAt:this.attr("")}}}n()(s,"entity","role"),n()(s,"primaryKey","uuid")},"07f9":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),paymentDescription:this.attr(""),paymentType:this.attr(""),paymentActive:this.attr("")}}get getBodyRequest(){return{uuid:this.uuid,paymentDescription:this.paymentDescription,paymentType:this.paymentType,paymentActive:this.paymentActive}}}n()(s,"entity","payment-options"),n()(s,"primaryKey","uuid")},"0f30":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("9523"),n=a.n(r),i=a("0937"),s=a("ebd1");class o extends i["b"]{static fields(){return{createdAt:this.attr(""),updatedAt:this.attr(""),deletedAt:this.attr(""),uuid:this.attr(null),sccode:this.attr(""),userId:this.attr(""),user:this.belongsTo(s["a"],"userId")}}get getId(){return this.$id}get getBodyRequest(){var e;return{sccode:null!==(e=this.sccode)&&void 0!==e?e:""}}}n()(o,"entity","profile"),n()(o,"primaryKey","uuid")},1084:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s}));var r=a("b178");function n(e){try{return r["b"].getItem(e)}catch(t){console.log(t)}}function i(e,t){try{r["b"].set(e,t)}catch(a){console.log(a)}}function s(e){try{r["b"].remove(e)}catch(t){console.log(t)}}},"16c4":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),material:this.attr(""),colour:this.attr(""),profile:this.attr(""),createdAt:this.attr(""),updatedAt:this.attr("")}}}n()(s,"entity","service-report-materials"),n()(s,"primaryKey","uuid")},"1b87":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),category:this.attr(""),subcategory:this.attr(""),name:this.attr(""),itemcode:this.attr(""),virture:this.attr(""),brand:this.attr(""),material:this.attr(""),colour:this.attr(""),profile:this.attr(""),uom:this.attr(""),fraction:this.attr(""),stdcost:this.attr(""),markuprate:this.attr(""),part:this.attr(""),nonstdrate:this.attr(""),installationCharges:this.attr(""),dealerprice:this.attr(""),active:this.attr(""),oversea:this.attr(""),overseaDealerPrice:this.attr("")}}}n()(s,"entity","trading-items"),n()(s,"primaryKey","uuid"),n()(s,"columns",[{name:"uuid",required:!0,label:"Id",align:"center",field:"uuid",sortable:!0},{name:"category",required:!0,label:"Category",align:"left",field:"category",sortable:!0},{name:"subcategory",label:"Subcategory",align:"left",field:"subcategory",sortable:!0,editable:!0},{name:"name",label:"Name",align:"left",field:"name",sortable:!1},{name:"itemcode",label:"Item Code",align:"left",field:"itemcode",sortable:!0},{name:"virture",label:"Virture",align:"left",field:"virture"},{name:"brand",label:"Brand",field:"brand",align:"left",sortable:!0,editable:!0},{name:"material",label:"Material",field:"material",align:"left",sortable:!0},{name:"colour",label:"Colour",field:"colour",align:"left",sortable:!0},{name:"profile",label:"Profile",field:"profile",align:"left",sortable:!0},{name:"uom",label:"uom",field:"uom",align:"left",sortable:!0},{name:"fraction",label:"Fraction",field:"fraction",align:"left",sortable:!0},{name:"stdcost",label:"Std Cost",field:"stdcost",align:"left",sortable:!0},{name:"markuprate",label:"Markup Rate",field:"markuprate",align:"left",sortable:!0},{name:"part",label:"Part",field:"part",align:"left",sortable:!0},{name:"nonstdrate",label:"Non Std-rate",field:"nonstdrate",align:"left",sortable:!0},{name:"installationcharges",label:"Installation Charges",field:"installationCharges",align:"left",sortable:!0},{name:"dealerprice",label:"Dealer Price",field:"dealerprice",align:"left",sortable:!0},{name:"active",label:"Active",field:"active",align:"left",sortable:!0},{name:"oversea",label:"Oversea",field:"oversea",align:"left",sortable:!0},{name:"overseadealerprice",label:"Oversea Dealer Price",field:"overseaDealerPrice",align:"left",sortable:!0}])},"2f39":function(e,t,a){"use strict";a.r(t);a("5319");var r=a("c973"),n=a.n(r),i=(a("573e"),a("7d6e"),a("e54f"),a("985d"),a("31cd"),a("2b0e")),s=a("1f91"),o=a("42d2"),l=a("b178");i["a"].use(l["f"],{config:{},lang:s["a"],iconSet:o["a"]});var d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"q-app"}},[a("router-view")],1)},u=[],c={name:"App"},m=c,h=a("2877"),p=Object(h["a"])(m,d,u,!1,null,null,null),f=p.exports,b=a("4360"),g=a("8c4f"),y=(a("e6cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("q-layout",{staticClass:" rounded-borders",staticStyle:{height:"400px"},attrs:{view:"lHh lpr lFf"}},[r("q-header",{staticClass:"bg-white",attrs:{bordered:""}},[r("q-toolbar",{staticClass:"bg-black"},[r("img",{attrs:{src:a("361a"),width:"120",height:"30"}}),r("q-space"),r("q-chip",{attrs:{color:"primary","text-color":"white"}},[e._v("\n          Logged in as "+e._s(e.username)+" : "+e._s(e.roleToDisplayText(e.roles[0]))+"\n        ")]),r("q-btn",{attrs:{label:"Logout",flat:"","text-color":"white"},on:{click:function(t){e.confirm=!0}}})],1),r("q-tabs",{staticClass:"text-grey-9 shadow-0 q-pa-none",attrs:{"inline-label":"","active-color":"black","indicator-color":"primary",align:"center","active-bg-color":"white"},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.menus,(function(e){return r("q-tab",{key:e.name,attrs:{name:e.name,label:e.label}})})),1),r("q-separator"),e._l(e.menus,(function(t){return r("q-tab-panels",{key:t.name,staticClass:"text-black",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[r("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:t.name}},[r("panel-button-group",{attrs:{"current-link":e.link,buttons:t.buttons},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1)],1)}))],2),r("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[r("q-card",[r("q-card-section",{staticClass:"row items-center"},[r("span",{staticClass:"q-ml-sm"},[e._v("Are you sure to logout?")])]),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Confirm",color:"primary"},on:{click:e.onClickLogout}})],1)],1)],1),r("q-page-container",{staticClass:"bg-grey-3"},[r("q-page",{staticClass:"q-pa-md"},[r("router-view")],1)],1)],1)],1)}),v=[],I=a("ded3"),S=a.n(I),w=a("ed08"),A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row q-py-sm"},e._l(e.buttons,(function(t,r){return a("div",{key:r},[a("panel-button",{attrs:{links:t.tos}}),a("div",{staticClass:"text-caption text-center text-grey-6"},[e._v("\n        "+e._s(t.category)+"\n      ")])],1)})),0)])},C=[],T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[e._l(e.links,(function(t){return a("div",{key:t.name},[e.isButtonDisabled(t)?a("q-tooltip",[e._v("\n      "+e._s(e.buttonDisabledTooltipText(t))+"\n    ")]):e._e(),a("q-btn",{staticClass:"font-weight-light text-negative",staticStyle:{"font-size":"12px"},attrs:{disable:e.isButtonDisabled(t),stack:"",flat:"",active:t===t.name,"active-class":"text-primary",padding:"none md"},on:{click:function(a){return e.onButtonClick(t.name,t.reasonCategory)}}},[a("q-icon",{staticClass:"q-pt-sm",staticStyle:{"font-size":"16px"},attrs:{name:t.icon}}),a("span",{staticClass:"text-capitalize text-grey-8 text-weight-medium q-pt-none"},[e._v(e._s(t.label))])],1)],1)})),a("q-separator",{attrs:{vertical:"",inset:"",spaced:""}})],2)},O=[],E={props:{links:{type:Array,default:()=>[]}},methods:{onButtonClick(e,t){this.$store.dispatch("ModalOpen",e),this.$store.dispatch("Reason",t)},isButtonDisabled(e){return"function"===typeof e.disabled?e.disabled(this.$store.state):e.disabled},buttonDisabledTooltipText(e){return"function"===typeof e.disabledTooltipText?e.disabledTooltipText(this.$store.state):e.disabledTooltipText}}},D=E,R=Object(h["a"])(D,T,O,!1,null,null,null),N=R.exports,P={components:{PanelButton:N},props:{buttons:{type:Array,default:()=>[]}},data(){return{}}},x=P,U=Object(h["a"])(x,A,C,!1,null,null,null),q=U.exports,M=a("2f62"),L={components:{PanelButtonGroup:q},data(){return{confirm:!1,link:"inbox"}},computed:S()(S()(S()({},Object(M["b"])(["menus","roles","username"])),Object(M["c"])({activeMenu:e=>e.app.activeMenu})),{},{currentTab:{set(e){this.$store.dispatch("SetActiveMenu",e)},get(){return this.activeMenu}}}),watch:{currentTab(e){const t=this.menus.find(t=>t.name===e);t.route?this.$router.push(t.route):"/"===this.$route.path||this.$router.push("/")}},created(){var e=this;return n()((function*(){yield e.$store.dispatch("InitializePage")}))()},methods:{roleToDisplayText(e){return Object(w["h"])(e)},onClickLogout(){this.$store.dispatch("Logout"),this.$router.push({path:"/login"})}}},k=L,B=Object(h["a"])(k,y,v,!1,null,null,null),G=B.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("q-layout",{staticClass:" rounded-borders",staticStyle:{height:"400px"},attrs:{view:"lHh lpr lFf"}},[r("q-header",{staticClass:"bg-white",attrs:{bordered:""}},[r("q-toolbar",{staticClass:"bg-black"},[r("img",{attrs:{src:a("361a"),width:"120",height:"30"}}),r("q-space")],1)],1),r("q-page-container",{staticClass:"bg-grey-3"},[r("q-page",{staticClass:"q-pa-md"},[r("router-view")],1)],1)],1)],1)},Q=[],F={data(){return{}},computed:{},created(){var e=this;return n()((function*(){yield e.$store.dispatch("InitializePage")}))()},methods:{onClickLogout(){this.$store.dispatch("Logout"),this.$router.push({path:"/login"})}}},K=F,$=Object(h["a"])(K,j,Q,!1,null,null,null),_=$.exports;const V=[{path:"/",meta:{title:"Website",sidebar:!1,roles:[]},component:G,children:[{path:"/",component:()=>Promise.all([a.e(0),a.e(2)]).then(a.bind(null,"e5ee"))},{path:"dashboard",meta:{title:"Dashboard",roles:[],sidebar:!0,icon:"home"},component:()=>Promise.all([a.e(0),a.e(4)]).then(a.bind(null,"ec95"))}]},{path:"/lead/:leadId/detailed-quotation/:designId/",meta:{title:"Detailed Quotation",sidebar:!1,roles:[]},component:_,children:[{path:"/",component:()=>a.e(3).then(a.bind(null,"0726"))}]},{path:"/service-report/:reportId",meta:{title:"Service Report",sidebar:!1,roles:[]},component:_,children:[{path:"/",component:()=>Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"c7bb"))}]},{path:"/report-maintenance/:reportId",meta:{title:"Repair Maintenance",sidebar:!1,roles:[]},component:_,children:[{path:"/",component:()=>Promise.all([a.e(0),a.e(6)]).then(a.bind(null,"ec84"))}]},{path:"/login",meta:{title:"Login",sidebar:!1,roles:[]},component:()=>Promise.all([a.e(0),a.e(7)]).then(a.bind(null,"80ab"))},{path:"/register",meta:{title:"Registration",roles:["user"],sidebar:!1},component:()=>Promise.all([a.e(0),a.e(8)]).then(a.bind(null,"2a1a"))},{path:"/401",component:()=>a.e(9).then(a.bind(null,"71ef"))},{path:"*",component:()=>a.e(10).then(a.bind(null,"e51e"))}];var Y=V;i["a"].use(g["a"]);var J=function(){const e=new g["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Y,mode:"hash",base:""});return e},W=function(){return H.apply(this,arguments)};function H(){return H=n()((function*(){const e="function"===typeof b["b"]?yield Object(b["b"])({Vue:i["a"]}):b["b"],t="function"===typeof J?yield J({Vue:i["a"],store:e}):J;e.$router=t;const a={router:t,store:e,render:e=>e(f),el:"#q-app"};return{app:a,store:e,router:t}})),H.apply(this,arguments)}var z=a("bc3a"),Z=a.n(z);i["a"].prototype.$axios=Z.a;const X={loading:e=>l["c"].create({spinner:l["d"],group:!1,timeout:0,message:e}),success:e=>l["c"].create({type:"positive",group:!0,position:"top",message:e}),error:e=>l["c"].create({type:"negative",group:!1,position:"top",message:e})};var ee=function(){var e=n()((function*({Vue:e}){e.prototype.$notify=(e,t)=>X[e](t)}));return function(t){return e.apply(this,arguments)}}(),te=a("1dce"),ae=a.n(te),re=function(){var e=n()((function*({Vue:e}){e.use(ae.a)}));return function(t){return e.apply(this,arguments)}}(),ne=a("3e8a");i["a"].prototype.$database=ne["a"],M["a"].Store.prototype.$database=ne["a"];var ie=a("1084");const se=Z.a.create({baseURL:"https://api-prod.skcrm.com.my",timeout:24e4});se.interceptors.request.use(e=>(Object(ie["a"])("jwtToken")&&(e.headers["Authorization"]="Bearer "+Object(ie["a"])("jwtToken")),e),e=>{console.log(e),Promise.reject(e)});var oe=se;class le{constructor(e,t){this.model=e,this.datasource=t}create(e){var t=this;return n()((function*(){return yield t.datasource.post(""+t.model.entity,e)}))()}count(e){var t=this;return n()((function*(){return yield t.datasource.get(t.model.entity+"/count",{params:{where:e}})}))()}getById(e,t){var a=this;return n()((function*(){return yield a.datasource.get(`${a.model.entity}/${e}`,{params:{filter:t}})}))()}listing(e){var t=this;return n()((function*(){return yield t.datasource.get(""+t.model.entity,{params:{filter:e}})}))()}delete(e){var t=this;return n()((function*(){return yield t.datasource.delete(`${t.model.entity}/${e}`)}))()}updateById(e,t){var a=this;return n()((function*(){return yield a.datasource.patch(`${a.model.entity}/${e}`,t)}))()}}var de=a("ebd1"),ue=a("4328"),ce=a.n(ue);class me extends le{constructor(){super(de["a"],oe)}get(){}list(){}register(e){return n()((function*(){const t=yield oe({method:"post",url:""+de["a"].entity,data:ce.a.stringify(e),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}});return t}))()}forgetPassword(e){return n()((function*(){const t=yield oe({method:"post",url:`user/${e}/notify-admin-forgot-password`,data:ce.a.stringify({loginId:e}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}});return t}))()}login(e,t){return n()((function*(){const a=yield oe({method:"post",url:de["a"].entity+"/login",data:ce.a.stringify({loginId:e,password:t}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}});return a}))()}getInfo(){return n()((function*(){const e=yield oe({method:"get",url:"me"});return e}))()}logout(){return n()((function*(){yield oe({method:"post",url:de["a"].entity+"/logout"})}))()}getUserRoles(e){return n()((function*(){return oe({method:"get",url:`users/${e}/roles`})}))()}getUserPermissions(e){return n()((function*(){return oe({method:"get",url:`users/${e}/permissions`})}))()}updateUserPermissions(e){return n()((function*(){const{permissionIds:t,rolesIds:a,userId:r}=e;return oe({method:"post",url:`users/${r}/roles/permission/reattach`,data:{permissionIds:t,rolesIds:a}})}))()}resetUserPassword(e){return n()((function*(){const{password:t,userId:a}=e;return oe({method:"patch",url:`user/${a}/reset-password`,data:{password:t}})}))()}getUserProfile(e){return n()((function*(){return oe({method:"get",url:`users/${e}/profile`})}))()}updateUserId(e,t){return n()((function*(){return oe({method:"patch",url:"user/"+e,data:t})}))()}updateUserProfile(e,t){return n()((function*(){return oe({method:"patch",url:`users/${e}/profile`,data:t})}))()}checkSCCodeExist(e){return n()((function*(){return oe({method:"get",url:`users/sccode/${e}/exists`})}))()}checkEmailExist(e){return n()((function*(){return oe({method:"get",url:`users/email/${e}/exists`})}))()}checkKujialeEmailExist(e){return n()((function*(){return oe({method:"get",url:`users/kujialeEmail/${e}/exists`})}))()}checkAppUIDExist(e){return n()((function*(){return oe({method:"get",url:`users/appUID/${e}/exists`})}))()}checkLoginIdExist(e){return n()((function*(){return oe({method:"get",url:`users/loginId/${e}/exists`})}))()}checkMobileExist(e){return n()((function*(){return oe({method:"get",url:`users/mobile/${e}/exists`})}))()}assignUserRoles(e,t){return n()((function*(){return oe({method:"post",url:`users/${e}/roles`,data:{roleId:t}})}))()}unassignUserRoles(e,t){return n()((function*(){return oe({method:"post",url:`users/${e}/roles/unassign`,data:{roleId:t}})}))()}}var he=a("f246");class pe extends le{constructor(){super(he["a"],oe)}listing(){var e=this;return n()((function*(){return yield e.datasource({method:"get",url:""+he["a"].entity})}))()}}var fe=a("b675");class be extends le{constructor(){super(fe["a"],oe)}}var ge=a("0006");class ye extends le{constructor(){super(ge["a"],oe)}users(e,t){var a=this;return n()((function*(){return yield a.datasource.get(`roles/${e}/users`,{params:{filter:t}})}))()}}var ve=a("a193");class Ie extends le{constructor(){super(ve["a"],oe)}upload(e){var t=this;return n()((function*(){const a=new FormData;a.append("file",e);const r=yield t.datasource.post("containers/upload/customer",a,{headers:{"Content-Type":"multipart/form-data"}});return r}))()}assignToBranch(e,t){var a=this;return n()((function*(){return yield a.datasource.post(`${a.model.entity}/${e}/assign-to-branch`,t)}))()}getRecommendedBranch(){return n()((function*(){return oe({method:"get",url:"leads/branch-suggestion"})}))()}checkEmailExist(e){return n()((function*(){return oe({method:"get",url:`leads/email/${e}/exists`})}))()}checkMobileExist(e){return n()((function*(){return oe({method:"get",url:`leads/phone/${e}/exists`})}))()}calculateDrawing(e){return n()((function*(){const{uuid:t,drawingId:a}=e;return oe({method:"post",url:"kujiale/calculate",data:{drawingId:a,leadId:t}})}))()}getDesigns(e,t){return n()((function*(){return oe({method:"get",url:"designs/"+e,params:{filter:t}})}))()}updateDesignById(e,t){return n()((function*(){return oe.patch("designs/"+e,t)}))()}getDrawings(e){return n()((function*(){return oe({method:"get",url:"designs",params:{filter:e}})}))()}getDetailedQuotation(e){return n()((function*(){const{uuid:t,drawingId:a,drawingReferenceName:r}=e;return oe({method:"post",url:"kujiale/detailedQuotation",data:{drawingId:a,leadId:t,drawingReferenceName:r}})}))()}updateDetailedQuotation(e){return n()((function*(){const{leadId:t,drawingUuid:a,drawingId:r}=e;return oe({method:"patch",url:"kujiale/detailedQuotation",data:{drawingUuid:a,drawingId:r,leadId:t}})}))()}createDetailedQuotation(e){return n()((function*(){return oe({method:"post",url:"designs",data:e})}))()}getTradingItems(e){return n()((function*(){return oe({method:"get",url:"trading-items",params:{filter:e}})}))()}updateDesignState(e){return n()((function*(){const{designIds:t,leadId:a}=e;return oe({method:"post",url:`leads/${a}/designs/toSummaryQuotation`,data:t})}))()}createOrUpdateOrderConfirmationFromSummaryQuotations(e){return n()((function*(){const{designIds:t,leadId:a}=e;return oe({method:"post",url:`/leads/${a}/final-confirmation-orders/from-summary-quotations`,data:t})}))()}calculateAllDetailed(e){return n()((function*(){const{designId:t,tradingItems:a,looseItems:r,masterItemDiscount:n,otherItems:i}=e;return oe({method:"post",url:`designs/${t}/calculate-detailed-quotation`,data:{tradingItems:a,looseItems:r,masterItemDiscount:n,otherItems:i}})}))()}ChangeCampaign(e,t){return n()((function*(){return oe({method:"post",url:"lead/changecampaign",data:{data:e,userid:t}})}))()}}var Se=a("764d");class we extends le{constructor(){super(Se["a"],oe)}updateRotationById(e,t){var a=this;return n()((function*(){return yield a.datasource.patch(`${a.model.entity}/${e}/rotation`,t)}))()}checkBranchCodeExist(e){return n()((function*(){return oe({method:"get",url:`branch/${e}/exists`})}))()}checkEmailBranchExist(e){return n()((function*(){return oe({method:"get",url:`branch/email/${e}/exists`})}))()}checkFaxExist(e){return n()((function*(){return oe({method:"get",url:`branch/fax/${e}/exists`})}))()}checkMobileExist(e){return n()((function*(){return oe({method:"get",url:`branch/telno/${e}/exists`})}))()}GetManager(e,t,a){return n()((function*(){return oe({method:"post",url:`branch/${e}/getmanager`,data:{lead:t,userid:a}})}))()}}var Ae=a("c2e8");class Ce extends le{constructor(){super(Ae["a"],oe)}upload(e,t){var a=this;return n()((function*(){const r=new FormData;r.append("file",e),r.append("uploadMode",t);const n=yield a.datasource.post("item-lists/batch/upload/xlsx",r,{headers:{"Content-Type":"multipart/form-data"}});return n}))()}}var Te=a("1b87");class Oe extends le{constructor(){super(Te["a"],oe)}upload(e,t){var a=this;return n()((function*(){const r=new FormData;r.append("file",e),r.append("uploadMode",t);const n=yield a.datasource.post("trading-item/batch/upload/xlsx",r,{headers:{"Content-Type":"multipart/form-data"}});return console.log(n),n}))()}}var Ee=a("cfc5");class De extends le{constructor(){super(Ee["a"],oe)}upload(e){return n()((function*(){return yield oe({method:"post",url:Ee["a"].entity+"/upload",headers:{"Content-Type":"multipart/form-data"},data:e})}))()}download(e){return n()((function*(){return yield oe({method:"get",url:`${Ee["a"].entity}/download/${e}`})}))()}}var Re=a("4794");class Ne extends le{constructor(){super(Re["a"],oe)}assignToUser(e,t){return n()((function*(){const a=yield oe({method:"post",url:`permissions/${e}/user/assign`,data:{userUuid:t}});return a}))()}}var Pe=a("7f47");const xe=Z.a.create({baseURL:"https://restcountries.com/v2/",timeout:5e3});var Ue=xe;class qe extends le{constructor(){super(Pe["a"],Ue)}getAll(){return n()((function*(){return yield Ue({method:"get",url:"all"})}))()}}var Me=a("5f36");class Le extends le{constructor(){super(Me["a"],oe)}orderConfirmationAddDeposit(e,t,a,r,i,s){var o=this;return n()((function*(){return yield o.datasource.post(`leads/${e}/final-confirmation-orders/${t}/add-deposit`,{attachedDocumentDeposit:a,paidAmountDeposit:r,promoAmount:i,promoCode:s})}))()}OrderConfirmationAcknowledged(e){var t=this;return n()((function*(){return yield t.datasource.patch("final-confirmation-orders/"+e,{status:"Acknowledged"})}))()}OrderConfirmationRejected(e,t){var a=this;return n()((function*(){return yield a.datasource.patch("final-confirmation-orders/"+e,{status:"Rejected",remarks:t})}))()}finalOrderConfirmationSubmitted(e){var t=this;return n()((function*(){return yield t.datasource.patch("final-confirmation-orders/"+e,{status:"Submitted"})}))()}finalOrderConfirmationBMRejected(e,t){var a=this;return n()((function*(){return yield a.datasource.patch("final-confirmation-orders/"+e,{status:"BM Rejected",remarks:t})}))()}finalOrderConfirmationHQARejected(e,t){var a=this;return n()((function*(){return yield a.datasource.patch("final-confirmation-orders/"+e,{status:"HQA Rejected",remarks:t})}))()}finalOrderConfirmationSubmitToDetailer(e,t){var a=this;return n()((function*(){return yield a.datasource.patch("final-confirmation-orders/"+e,{status:"Detailer",totalApprovedAmount:t})}))()}finalOrderConfirmationApproveForProduction(e){var t=this;return n()((function*(){return yield t.datasource.patch("final-confirmation-orders/"+e,{status:"Production"})}))()}finalOrderConfirmationRejectedAttachment(e,t,a,r,i,s){return n()((function*(){return console.log(t),oe({method:"patch",url:`/final-confirmation-orders/${e}/payment-attachments`,data:{fileName:t,name:a,status:r,approvedAmount:i,uuid:s}})}))()}finalOrderConfirmationApprovedAttachment(e,t,a,r,i,s){return n()((function*(){return oe({method:"patch",url:`/final-confirmation-orders/${e}/payment-attachments`,data:{fileName:t,name:a,status:r,approvedAmount:i,uuid:s}})}))()}addAttachment(e,t,a,r){return n()((function*(){return oe({method:"post",url:`/final-confirmation-orders/${e}/payment-attachments`,data:{fileName:t,name:a,type:r}})}))()}addAttachmentFromDetailer(e,t,a,r,i,s){return n()((function*(){return console.log(i),oe({method:"post",url:`/final-confirmation-orders/${e}/payment-attachments`,data:{fileName:t,name:a,type:r,paymentOptionsId:i,chequeNo:s}})}))()}deleteAttachment(e,t,a,r){return n()((function*(){return oe({method:"delete",url:`/final-confirmation-orders/${e}/payment-attachments`,data:{fileName:t,name:a,type:r}})}))()}lead(e){var t=this;return n()((function*(){return oe.get(`/${t.model.entity}/${e}/lead`)}))()}toFco(e){return n()((function*(){const{orderId:t,leadId:a}=e;return oe({method:"post",url:`/leads/${a}/final-confirmation-orders/${t}/to-fco`})}))()}produceFco(e){return n()((function*(){const{orderId:t,leadId:a,birthday:r,ic:n,race:i,propertySize:s,deliveryAddress:o,propertyType:l,email:d}=e;return oe({method:"post",url:`/leads/${a}/final-confirmation-orders/${t}/produce-fco`,data:{ic:n,race:i,propertySize:s,propertyType:l,deliveryAddress:o,email:d,birthday:r}})}))()}getOrderIdFromCron(e){var t=this;return n()((function*(){return yield t.datasource({method:"get",url:"/design-create-cron-jobs/exist",data:{orderId:e}})}))()}finalOrderConfirmationCreateCronJob(e,t,a){var r=this;return n()((function*(){return yield r.datasource({method:"post",url:"final-confirmation-orders/create-cron-job",data:{orderId:e,createType:t,createDone:a}})}))()}}var ke=a("5b11");class Be extends le{constructor(){super(ke["a"],oe)}updateExhibition(e){return n()((function*(){const{startDate:t,endDate:a,hideDate:r,name:n,uuid:i}=e;return oe({method:"patch",url:"exhibitions/"+i,data:{startDate:t,name:n,hideDate:r,endDate:a}})}))()}setToDefaultExhibition(e){return n()((function*(){const{status:t,uuid:a}=e;return oe({method:"patch",url:"exhibitions/"+a,data:{status:t}})}))()}checkExhibitionExist(e){return n()((function*(){return oe({method:"get",url:`/exhibition/${e}/exists`})}))()}}var Ge=a("83f9");class je extends le{constructor(){super(Ge["a"],oe)}}var Qe=a("5421");class Fe extends le{constructor(){super(Qe["a"],oe)}serviceReportActions(e,t){var a=this;return n()((function*(){return yield a.datasource.patch("service-reports/"+e,{state:t})}))()}calculate(e,t,a){var r=this;return n()((function*(){return yield oe.post(`${r.model.entity}/${e}/calculate`,{items:t,customItems:a})}))()}addAttachment(e,t,a){var r=this;return n()((function*(){return yield oe.post(`${r.model.entity}/${e}/payment-attachments`,{name:t,fileName:a})}))()}}var Ke=a("62b8");class $e extends le{constructor(){super(Ke["a"],oe)}}var _e=a("16c4");class Ve extends le{constructor(){super(_e["a"],oe)}}var Ye=a("add6");class Je extends le{constructor(){super(Ye["a"],oe)}}var We=a("5fec");class He extends le{constructor(){super(We["a"],oe)}upload(e,t){var a=this;return n()((function*(){const r=new FormData;r.append("file",e),r.append("uploadMode",t);const n=yield a.datasource.post("loose-item-lists/batch/upload/xlsx",r,{headers:{"Content-Type":"multipart/form-data"}});return console.log(n),n}))()}}var ze=a("6e14");class Ze extends le{constructor(){super(ze["a"],oe)}upload(e,t){var a=this;return n()((function*(){const r=new FormData;r.append("file",e),r.append("uploadMode",t);const n=yield a.datasource.post("material-items/batch/upload/xlsx",r,{headers:{"Content-Type":"multipart/form-data"}});return console.log(n),n}))()}}var Xe=a("5143");class et extends le{constructor(){super(Xe["a"],oe)}storeRejectionReason(e,t){var a=this;return n()((function*(){return yield a.datasource.post("/rejection-reasons",{reasonTitle:e,reasonCategory:t})}))()}getAllRejectionReason(){var e=this;return n()((function*(){return yield e.datasource.get("/rejection-reasons")}))()}removeRejectionReason(e){return n()((function*(){return oe({method:"delete",url:"/rejection-reasons/"+e})}))()}}var tt=a("07f9");class at extends le{constructor(){super(tt["a"],oe)}}var rt={user:new me,calculationLog:new Je,session:new pe,zone:new be,role:new ye,lead:new Ie,branch:new we,itemlist:new Ce,opitemlist:new Oe,container:new De,permission:new Ne,country:new qe,fco:new Le,exhibition:new Be,missingItem:new je,serviceReport:new Fe,serviceReportItem:new $e,serviceReportMaterial:new Ve,looseitem:new He,material:new Ze,rejectionreason:new et,paymentOptions:new at};i["a"].prototype.$repository=rt,M["a"].Store.prototype.$repository=rt;class nt{getSSOToken(){return n()((function*(){return yield oe({method:"get",url:"/kujiale/token"})}))()}}var it={kujiale:new nt};i["a"].prototype.$services=it,M["a"].Store.prototype.$services=it;var st=function(){var e=n()((function*({router:e,store:t}){const a=["/login"];e.beforeEach(function(){var e=n()((function*(e,r,n){if(!Object(ie["a"])("jwtToken"))return a.includes(e.path)?void n():void n("/login");if("/login"===e.path)return void n({path:"/"});const i=t.getters.roles;if(0!==i.length)Object(w["c"])(i,e.meta.roles)?n():n({path:"/401"});else try{yield t.dispatch("GetInfo"),n(S()(S()({},e),{},{replace:!0}))}catch(s){console.log(s),yield t.dispatch("Logout"),console.log("logout"),n({path:"/login"})}}));return function(t,a,r){return e.apply(this,arguments)}}())}));return function(t){return e.apply(this,arguments)}}(),ot=a("1321"),lt=a.n(ot),dt=a("dc21"),ut=a("688d"),ct=function(){var e=n()((function*({Vue:e}){e.component("apexchart",ot),dt["a"]({Vue:e,dsn:"https://250c98f04c6841048de7a06e64ae6e73@o488512.ingest.sentry.io/5549023",integrations:[new ut["a"].BrowserTracing],tracesSampleRate:1})}));return function(t){return e.apply(this,arguments)}}();i["a"].component("apexcharts",lt.a);const mt="";function ht(){return pt.apply(this,arguments)}function pt(){return pt=n()((function*(){const{app:e,store:t,router:a}=yield W();let r=!1;const n=e=>{r=!0;const t=Object(e)===e?a.resolve(e).route.fullPath:e;window.location.href=t},s=window.location.href.replace(window.location.origin,""),o=[void 0,ee,re,void 0,void 0,void 0,st,ct,void 0];for(let d=0;!1===r&&d<o.length;d++)if("function"===typeof o[d])try{yield o[d]({app:e,router:a,store:t,Vue:i["a"],ssrContext:null,redirect:n,urlPath:s,publicPath:mt})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==r&&new i["a"](e)})),pt.apply(this,arguments)}ht()},"31cd":function(e,t,a){},"361a":function(e,t){e.exports="data:image/png;base64,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"},"3e8a":function(e,t,a){"use strict";var r=a("0937"),n=a("ebd1"),i=a("f246"),s=a("b675"),o=a("0006"),l=a("764d"),d=a("a193"),u=a("c2e8"),c=a("0f30"),m=a("4794"),h=a("7f47"),p=a("5f36"),f=a("b09d"),b=a("5b11"),g=a("83f9"),y=a("a0eb"),v=a("5421"),I=a("62b8"),S=a("16c4"),w=a("1b87"),A=a("5143"),C=a("5fec"),T=a("6e14"),O=a("add6"),E=a("07f9"),D=a("abc9"),R=a("cfc5");const N=new r["a"];N.register(n["a"]),N.register(i["a"]),N.register(s["a"]),N.register(o["a"]),N.register(l["a"]),N.register(u["a"]),N.register(d["a"]),N.register(c["a"]),N.register(m["a"]),N.register(h["a"]),N.register(p["a"]),N.register(f["a"]),N.register(b["a"]),N.register(g["a"]),N.register(y["a"]),N.register(v["a"]),N.register(I["a"]),N.register(S["a"]),N.register(w["a"]),N.register(A["a"]),N.register(C["a"]),N.register(T["a"]),N.register(O["a"]),N.register(E["a"]),N.register(D["a"]),N.register(R["a"]),t["a"]=N},4360:function(e,t,a){"use strict";a.d(t,"a",(function(){return Ue}));var r=a("2b0e"),n=a("2f62"),i=a("0937");const s={token:e=>e.user.token,roles:e=>e.user.roles,permissions:e=>e.user.permissions,branchId:e=>e.user.branchId,userId:e=>e.user.userId,username:e=>e.user.name,kujialeEmail:e=>e.user.kujialeEmail,appUID:e=>e.user.appUID,activeModal:e=>e.modal.open.length>0?e.modal.open[0]:null,allOpen:e=>e.modal.open,reasonsList:e=>e.modal.reasons,menus:e=>e.app.menus,datatabs:e=>e.app.datatabs,activeDataTab:e=>e.app.activeDataTab,tableSelection:e=>e.app.tableSelection,activeMenu:e=>e.app.activeMenu};var o=s,l=a("3e8a"),d=(a("e6cf"),a("ddb0"),a("ded3")),u=a.n(d),c=a("c973"),m=a.n(c),h=a("1084"),p=a("ebd1"),f=a("0f30"),b=a("abc9");const g={state:{token:Object(h["a"])("jwtToken"),roles:[],permissions:[],session:"",userId:"",branchId:"",email:"",mobile:"",name:"",kujialeEmail:"",appUID:""},mutations:{LOGIN:(e,t)=>{e.token=t,Object(h["c"])("jwtToken",t)},LOGOUT:e=>{e.token="",Object(h["b"])("jwtToken")},SET_ROLES:(e,t)=>{e.roles=t},SET_PERMISSIONS:(e,t)=>{e.permissions=t},SET_SESSION:(e,t)=>{e.session=t},SET_USER:(e,t)=>{e.userId=t},SET_BRANCH:(e,t)=>{e.branchId=t},SET_EMAIL:(e,t)=>{e.email=t},SET_MOBILE:(e,t)=>{e.mobile=t},SET_NAME:(e,t)=>{e.name=t},SET_KUJIALEEMAIL:(e,t)=>{e.kujialeEmail=t},SET_APPUID:(e,t)=>{e.appUID=t}},actions:{ForgetPassword({commit:e},t){return new Promise((e,a)=>{this.$repository.user.forgetPassword(t).then(t=>{e()}).catch(e=>{console.log(e),a(e)})})},Login({commit:e},t){return new Promise((a,r)=>{this.$repository.user.login(t.loginId,t.password).then(t=>{const r=t.data.token;e("LOGIN",r),a()}).catch(e=>{console.log(e),r(e)})})},GetInfo({commit:e,dispatch:t}){return new Promise((a,r)=>{this.$repository.user.getInfo().then(r=>{const n=r.data;e("SET_ROLES",n.roles),e("SET_PERMISSIONS",n.permissions),e("SET_SESSION",n.session),e("SET_USER",n.user),e("SET_NAME",n.name),e("SET_EMAIL",n.email),e("SET_MOBILE",n.mobile),e("SET_BRANCH",n.branch),e("SET_KUJIALEEMAIL",n.kujialeEmail),e("SET_APPUID",n.appUID),t("FilterMenus",null,{root:!0}),a(n)}).catch(e=>{console.log(e),r(e)})})},Logout({commit:e}){return new Promise(t=>{this.$repository.user.logout(),e("SET_ROLES",[]),e("SET_PERMISSIONS",[]),e("SET_SESSION",""),e("SET_USER",""),e("SET_NAME",""),e("SET_EMAIL",""),e("SET_MOBILE",""),e("SET_KUJIALEEMAIL",""),e("SET_APPUID",""),e("LOGOUT"),t()})},GetUserById({},e){var t=this;return new Promise(function(){var a=m()((function*(a,r){t.$repository.user.getById(e).then(e=>{a(e.data)}).catch(e=>{r(e)})}));return function(e,t){return a.apply(this,arguments)}}())},GetAllUsers({dispatch:e},t){return new Promise((a,r)=>{let n=void 0!==t&&t.filter?t.filter:{include:[{relation:"branch"},{relation:"profile"},{relation:"roles"}]};this.$repository.user.listing(n).then(r=>{p["a"].insert({data:r.data}),t&&t.name&&e("NewTab",{name:t.name,columns:p["a"].columns,key:p["a"].primaryKey,data:null!=t.model?t.model.get():p["a"].query().withAll().get()}),a(p["a"].query().get())}).catch(e=>{console.log(e),r(e)})})},RegisterUser({dispatch:e},t){return new Promise((a,r)=>{this.$repository.user.register(t).then(t=>{a(t.data),p["a"].insert({data:t.data}).then(e("UpdateTab",{name:"Users",columns:p["a"].columns,key:p["a"].primaryKey,data:p["a"].query().withAll().get()})),e("GetAllBranches")}).catch(e=>{r(e)})})},UpdateUser({dispatch:e},t){var a=this;return m()((function*(){return new Promise(function(){var r=m()((function*(r,n){const i=p["a"].query().withAll().where("uuid",t.uuid).first(),s={name:t.name,loginId:t.loginId,mobile:t.mobile,profile:u()(u()({},i.profile),{},{sccode:t.sccode}),kujialeEmail:t.kujialeEmail,appUID:t.appUID},o={name:t.name,loginId:t.loginId,mobile:t.mobile,email:t.email,branchId:t.branchId,active:t.active,kujialeEmail:t.kujialeEmail,appUID:t.appUID};yield p["a"].update({where:t.uuid,data:s}),a.$repository.user.updateById(i.getId,i.getBodyRequest).then(t=>{e("UpdateTab",{name:"Users",columns:p["a"].columns,key:p["a"].primaryKey,data:p["a"].query().withAll().get()}),e("GetAllBranches"),r(t.data)}).catch(t=>{n(t),e("GetAllUsers")}),a.$repository.user.updateUserId(i.getId,o).then(t=>{e("UpdateTab",{name:"Users",columns:p["a"].columns,key:p["a"].primaryKey,data:p["a"].query().withAll().get()}),e("GetAllBranches"),r(t.data)}).catch(t=>{n(t),e("GetAllUsers")}),t.sccode&&e("UpdateUserProfile",t)}));return function(e,t){return r.apply(this,arguments)}}())}))()},CheckSCCodeExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.user.checkSCCodeExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},CheckLoginIdExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.user.checkLoginIdExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},CheckEmailExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.user.checkEmailExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},CheckMobileExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.user.checkMobileExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},CheckKujialeEmailExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.user.checkKujialeEmailExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},CheckAppUIDExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.user.checkAppUIDExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},RegisterIndividual({},e){return new Promise((t,a)=>{this.$repository.user.register(e).then(e=>{t(e.data)}).catch(e=>{a(e)})})},DeleteUser({dispatch:e},t){return new Promise((a,r)=>{this.$repository.user.delete(t).then(r=>{a(r),p["a"].delete(t),e("UpdateTab",{name:"Users",columns:p["a"].columns,key:p["a"].primaryKey,data:p["a"].query().withAll().get()})}).catch(e=>{r(e)})})},GetUserPermissions({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.user.getUserPermissions(e).then(e=>{a(e)}).catch(e=>{r(e)})})}))()},UpdateUserPermission({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.user.updateUserPermissions(e).then(e=>{a(e)}).catch(e=>{r(e)})})}))()},ResetUserPassword({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.user.resetUserPassword(e).then(e=>{a(e)}).catch(e=>{r(e)})})}))()},GetUserRoles({},e){var t=this;return m()((function*(){const a=yield t.$repository.user.getUserRoles(e),r=a.data;for(const t of r)yield b["a"].create({data:{roleId:t.uuid,userId:e}});return a.data}))()},UpdateUserProfile({},e){var t=this;return m()((function*(){const a=yield t.$repository.user.updateUserProfile(e.uuid,{sccode:e.sccode});return a.data}))()},GetUserProfile({},e){var t=this;return m()((function*(){const a=yield t.$repository.user.getUserProfile(e);return f["a"].insert({data:a.data}),a.data}))()},AssignUserRole({},e){var t=this;return m()((function*(){const a=yield t.$repository.user.assignUserRoles(e.userId,e.roleId);return a.data}))()},UnassignUserRole({},e){var t=this;return m()((function*(){const a=yield t.$repository.user.unassignUserRoles(e.userId,e.roleId);return a.data}))()}}};var y=g,v=(a("a434"),a("ed08")),I=a("d600");const S=()=>[{name:"usermanagement",permissions:[I["a"].MODULE_USER_MANAGEMENT],roles:[],label:"SK Management",request:{get:"GetAllUsers",delete:"DeleteUser"},default_datatab_title:"Users",config:{selectiontype:"multiple",table_footer:!1},buttons:[{category:"",tos:[{name:"adduser",permissions:[],roles:[],icon:"fas fa-user-plus",label:"Add User",disabled:!1},{name:"edituser",permissions:[],roles:[],icon:"fas fa-edit",label:"View/Edit",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No user selected"},{name:"delete",permissions:[],roles:[],icon:"fas fa-trash-alt",label:"Delete",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No user selected"}]},{category:"",tos:[{name:"assignScope",permissions:[],roles:[],icon:"fas fa-key",label:"Scope & Roles",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No user selected"}]}]},{name:"branch",permissions:[I["a"].MODULE_BRANCH_MANAGEMENT],roles:[],label:"Branch",request:{get:"GetAllBranches",delete:"DeleteBranch"},default_datatab_title:"Branches",config:{selectiontype:"multiple",table_footer:!1},buttons:[{category:"",tos:[{name:"addbranch",permissions:[],roles:[],icon:"fas fa-user-plus",label:"Add Branch",disabled:!1},{name:"editbranch",permissions:[],roles:[],icon:"fas fa-edit",label:"View/Edit",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No branch selected"},{name:"delete",permissions:[],roles:[],icon:"fas fa-trash-alt",label:"Delete",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No branch selected"}]},{category:"",tos:[{name:"rrbranch",icon:"fas fa-filter",label:"Arrange Branches",disabled:!1}]}]},{name:"item",permissions:[I["a"].MODULE_ITEM_LIST],roles:[],label:"Item List",request:{get:"GetAllItems",delete:"DeleteBranch"},default_datatab_title:"Item List",config:{selectiontype:"multiple",table_footer:!1},buttons:[{category:"",tos:[{name:"importitemlist",permissions:[],roles:[],icon:"fas fa-upload",label:"Import Item List",disabled:!1}]},{category:"",tos:[{name:"downloadMissingItem",permissions:[],roles:[],label:"Download Missing Item list",icon:"fas fa-file-csv"}]},{category:"",tos:[{name:"downloadCalculationLog",permissions:[],roles:[],label:"Download Calculation Log",icon:"fas fa-file-csv"}]},{category:"",tos:[{name:"importopitemlist",permissions:[],roles:[],icon:"fas fa-upload",label:"Import OP Item List",disabled:!1}]},{category:"",tos:[{name:"importlooseitemlist",permissions:[],roles:[],icon:"fas fa-upload",label:"Import Loose Item List",disabled:!1}]},{category:"",tos:[{name:"importmateriallist",permissions:[],roles:[],icon:"fas fa-upload",label:"Import Material List",disabled:!1}]},{category:"",tos:[{name:"editItemListRoute",permissions:[],roles:[],icon:"fas fa-edit",label:"View/Edit Item",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No item selected"}]}]},{name:"campaign",permissions:[I["a"].MODULE_CAMPAIGN],roles:[],label:"Campaign",request:{get:"GetAllExhibitions"},default_datatab_title:"Campaign List",config:{selectiontype:"multiple",table_footer:!1},buttons:[{category:"",tos:[{name:"addExhibition",permissions:[],roles:[],icon:"fas fa-user-plus",label:"Add Campaign",disabled:!1},{name:"viewCampaign",icon:"fas fa-pencil-ruler",label:"View Details",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No campaign selected"},{name:"campaignDefault",icon:"fas fa-pencil-ruler",label:"Set to default",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No campaign selected"},{name:"deleteExhibition",permissions:[],roles:[],icon:"fas fa-trash-alt",label:"Delete",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No campaign selected"}]}]},{name:"onlineleads",permissions:[I["a"].MODULE_ONLINE_LEADS],roles:[],label:"Online Leads",request:{get:"GetOnlineLeads",delete:"DeleteLead"},default_datatab_title:"Online Leads",config:{selectiontype:"multiple",table_footer:!1},buttons:[{category:"",tos:[{name:"qualifyOL",permissions:[],roles:[],icon:"fas fa-user-tag",label:"Assign To",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No lead selected."},{name:"disqualifyOL",permissions:[],roles:[],icon:"fas fa-ban",label:"Disqualify",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No lead selected."}]}]},{name:"qualifiedleads",permissions:[I["a"].MODULE_QUALIFIED_LEADS],roles:[],label:"Qualified Leads",request:{get:"GetQualifiedLeads",delete:"DeleteLead"},default_datatab_title:"Qualified Leads",config:{selectiontype:"multiple",table_footer:!1},buttons:[{category:"",tos:[{name:"assigntodesign",permissions:[],roles:[],icon:"fas fa-check",label:"To Design Proposal",disabled:e=>1!==e.app.tableSelection.length,disabledTooltipText:e=>e.app.tableSelection.length<1?"No lead selected":"Only one lead is allowed at a time."},{name:"qualifyQL",permissions:[],roles:["sysadmin","branchManager","hQManager","callcenter"],icon:"fas fa-user-tag",label:"Assign To",disabled:e=>1!==e.app.tableSelection.length||Object(v["c"])(e.user.roles,["salesconsultant"]),disabledTooltipText:e=>Object(v["c"])(e.user.roles,["salesconsultant"])?"User is sales consultant":e.app.tableSelection.length<1?"No lead selected":"Only one lead is allowed at a time."},{name:"pendingQL",permissions:[],roles:[],icon:"fas fa-user-tag",label:"Follow Up",disabled:e=>1!==e.app.tableSelection.length||!Object(v["c"])(e.user.roles,["salesconsultant","sysadmin"]),disabledTooltipText:e=>Object(v["c"])(e.user.roles,["salesconsultant","sysadmin"])?e.app.tableSelection.length<1?"No lead selected":"Only one lead is allowed at a time.":"User is not sales consultant"}]},{category:"",tos:[{name:"walkinlead",permissions:[],roles:[],icon:"fas fa-walking",label:"Walk In"},{name:"editWalkingLead",permissions:[],roles:[],icon:"fas fa-edit",label:"View/Edit",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No lead selected"},{name:"requalifyQL",permissions:[],roles:[],icon:"fas fa-star",label:"Requalify",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No lead selected."},{name:"disqualifyQL",permissions:[],roles:[],icon:"fas fa-ban",label:"Disqualify",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No lead selected."}]},{category:"",tos:[{name:"changecampaignQL",permissions:[],roles:[],icon:"fas fa-pencil-ruler",label:"Request Campaign Change",disabled:e=>1!==e.app.tableSelection.length||!Object(v["c"])(e.user.roles,["salesconsultant","sysadmin"]),disabledTooltipText:e=>Object(v["c"])(e.user.roles,["salesconsultant","sysadmin"])?e.app.tableSelection.length<1?"No lead selected":"Only one lead is allowed at a time.":"User is not sales consultant"}]}]},{name:"designproposal",permissions:[I["a"].MODULE_DESIGN_PROPOSAL],roles:[],label:"Design Proposal",request:{get:"GetDesignLeads"},default_data:"GetDesignLeads",default_datatab_title:"Design Proposal",config:{selectiontype:"multiple",table_footer:!1},buttons:[{category:"",tos:[{name:"opendesigncad",permissions:[I["a"].DESIGN_OPEN_EXTERNAL],roles:[],icon:"fas fa-pencil-ruler",label:"Open External",disabled:e=>1!==e.app.tableSelection.length,disabledTooltipText:e=>e.app.tableSelection.length<1?"No lead selected":"Only one design is allowed at a time."}]},{category:"",tos:[{name:"downloadMissingItem",permissions:[],roles:[],label:"Download Missing Item list",icon:"fas fa-file-csv"}]},{category:"",tos:[{name:"insertDrawingNumber",permissions:[],roles:[],icon:"fas fa-pencil-ruler",label:"Insert Drawing Number",disabled:e=>1!==e.app.tableSelection.length,disabledTooltipText:e=>e.app.tableSelection.length<1?"No lead selected":"Only one design is allowed at a time."},{name:"detailedQuotation",permissions:[],roles:[],icon:"fas fa-pencil-ruler",label:"Detailed Quotation",disabled:e=>1!==e.app.tableSelection.length,disabledTooltipText:e=>e.app.tableSelection.length<1?"No lead selected":"Only one design is allowed at a time."},{name:"summaryQuotation",permissions:[],roles:[],icon:"fas fa-pencil-ruler",label:"Summary Quotation",disabled:e=>1!==e.app.tableSelection.length,disabledTooltipText:e=>e.app.tableSelection.length<1?"No lead selected":"Only one design is allowed at a time."}]},{category:"",tos:[{name:"leadLost",permissions:[],roles:[],icon:"fas fa-ban",label:"Set to Lost",disabled:e=>1!==e.app.tableSelection.length,disabledTooltipText:e=>e.app.tableSelection.length<1?"No lead selected":"Only one design is allowed at a time."}]},{category:"",tos:[{name:"rejectionReasonLostDesignProposal",permissions:[],roles:["hQAccountant"],icon:"fas fa-pencil-ruler",label:"Rejection Reason",reasonCategory:"Proposal Lost"}]}]},{name:"orderconfirmation",permissions:[I["a"].MODULE_ORDER_CONFIRMATION],roles:[],label:"Order Confirmation",request:{get:"GetCoLeads"},default_data:"GetCoLeads",default_datatab_title:"Orders",config:{selectiontype:"single",table_footer:!0},buttons:[{category:"",tos:[{name:"submitOrderConfirmationToAccount",icon:"fas fa-pencil-ruler",label:"Submit Order Confirmation",disabled:e=>{const t=e.app.tableSelection;if(!t.length)return!0;const[a]=t;return!Object(v["c"])([a.displayStatusForOC],["Upload Payment / Document","Pending Approval","Rejected","Cancelled"])},disabledTooltipText:e=>e.app.tableSelection.length?"Order not in state required for this action":"No order selected"},{name:"viewOrderConfirmation",icon:"fas fa-pencil-ruler",label:"View Details",disabled:e=>1!==e.app.tableSelection.length,disabledTooltipText:e=>e.app.tableSelection.length<1?"No order selected":"Only one order is allowed at a time."},{name:"actionsOrderConfirmation",icon:"fas fa-pencil-ruler",label:"Acknowledge or reject",roles:["sysadmin","hQAccountant","branchManager"],disabled:e=>{const t=e.app.tableSelection;if(!t.length)return!0;const[a]=t;return Object(v["c"])([a.displayStatusForOC],["Upload Payment / Document","FCO Submission"])},disabledTooltipText:e=>e.app.tableSelection.length?"Order not in state required for this action":"No order selected"},{name:"cancelOrderConfirmation",icon:"fas fa-ban",label:"Cancel Order",roles:["sysadmin","hQManager","branchManager"],disabled:e=>{const t=e.app.tableSelection;if(!t.length)return!0;const[a]=t;return Object(v["c"])([a.displayStatusForOC],["FCO Submission"])},disabledTooltipText:e=>e.app.tableSelection.length?"Order not in state required for this action":"No order selected"}]},{category:"",tos:[{name:"toFinalOrderConfirmation",icon:"fas fa-pencil-ruler",label:"To FCO",disabled:e=>{const t=e.app.tableSelection;if(!t.length)return!0;const[a]=t;return Object(v["c"])([a.displayStatusForOC],["Upload Payment / Document","FCO Submission"])},disabledTooltipText:e=>e.app.tableSelection.length?"Order not in state required for this action":"No order selected"}]},{category:"",tos:[{name:"rejectionReasonLostDesignProposal",permissions:[],roles:["hQAccountant"],icon:"fas fa-pencil-ruler",label:"Rejection Reason",reasonCategory:"Disqualify Leads"}]}]},{name:"finalconfirmation",permissions:[I["a"].MODULE_ORDER_CONFIRMATION,I["a"].MODULE_SERVICE_REPORT],roles:[],label:"Final Confirmation Order",request:{get:"GetFcoLeads"},default_data:"GetFcoLeads",default_datatab_title:"FCO",config:{selectiontype:"multiple",table_footer:!0},buttons:[{category:"",tos:[{name:"submitToManager",icon:"fas fa-pencil-ruler",label:"Submit FCO",roles:["salesconsultant"],disabled:e=>{const t=e.app.tableSelection;if(!t.length)return!0;const[a]=t;return!Object(v["c"])([a.displayStatusForFCO],["Upload Payment / Document","Pending Approval","Rejected","Cancelled"])},disabledTooltipText:e=>e.app.tableSelection.length?"Order not in state required for this action":"No order selected"},{name:"viewFinalOrderConfirmation",icon:"fas fa-pencil-ruler",label:"View Details",disabled:e=>1!==e.app.tableSelection.length,disabledTooltipText:e=>e.app.tableSelection.length<1?"No order selected":"Only one order is allowed at a time."},{name:"actionsFinalOrderConfirmation",icon:"fas fa-pencil-ruler",label:"Submit to HQ Accountant or Reject",roles:["branchManager"],disabled:e=>{const t=e.app.tableSelection;if(!t.length)return!0;const[a]=t;return Object(v["c"])([a.displayStatusForFCO],["Pending Detailer"])},disabledTooltipText:e=>e.app.tableSelection.length?"Order not in state required for this action":"No order selected"},{name:"finalConfirmationOrderApproveForProduction",icon:"fas fa-pencil-ruler",label:"Submit to Detailer or Reject",roles:["hQAccountant"],disabled:e=>{const t=e.app.tableSelection;if(!t.length)return!0;const[a]=t;return Object(v["c"])([a.displayStatusForFCO],["Pending Detailer"])},disabledTooltipText:e=>e.app.tableSelection.length?"Order not in state required for this action":"No order selected"},{name:"finalConfirmationOrderCompleteTask",icon:"fas fa-pencil-ruler",label:"Complete Task",roles:["detailer"],disabled:e=>1!==e.app.tableSelection.length,disabledTooltipText:e=>e.app.tableSelection.length<1?"No order selected":"Only one order is allowed at a time."}]}]},{name:"dashboard",permissions:[],roles:[],label:"Dashboard",route:"dashboard"},{name:"servicereport",permissions:[I["a"].MODULE_USER_MANAGEMENT],roles:[],label:"Service Report",request:{get:"GetAllSR"},default_data:"GetAllSR",default_datatab_title:"SR",config:{selectiontype:"multiple",table_footer:!1},buttons:[{category:"",tos:[{name:"createServiceReport",permissions:[],roles:["salesconsultant"],icon:"fas fa-file-invoice",label:"Create Service Report"},{name:"viewServiceReport",permissions:[],roles:[],icon:"fas fa-edit",label:"View/Edit",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No report selected"},{name:"submitToDetailerServiceReport",permissions:[],roles:["salesconsultant","sysadmin"],icon:"fas fa-edit",label:"Submit To Detailer",disabled:e=>1!==e.app.tableSelection.length||!Object(v["c"])(e.user.roles,["salesconsultant","sysadmin"]),disabledTooltipText:e=>Object(v["c"])(e.user.roles,["salesconsultant","sysadmin"])?e.app.tableSelection.length<1?"No report selected":"Only one report is allowed at a time.":"User is not sales consultant"},{name:"actionsServiceReport",permissions:[],roles:["detailer","sysadmin"],icon:"fas fa-edit",label:"Approve/Reject",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No report selected"},{name:"completeServiceReport",permissions:[],roles:["purchaser","factory","logistic","sysadmin"],icon:"fas fa-edit",label:"Complete Task",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No report selected"}]}]},{name:"maintenancereport",permissions:[I["a"].MODULE_USER_MANAGEMENT],roles:[],label:"Repair Maintenance",request:{get:"GetAllMR"},default_data:"GetAllMR",default_datatab_title:"MR",config:{selectiontype:"multiple",table_footer:!1},buttons:[{category:"",tos:[{name:"createReportMaintenance",permissions:[],roles:["salesconsultant"],icon:"fas fa-file-invoice",label:"Create Maintenance Report"},{name:"viewServiceReport",permissions:[],roles:[],icon:"fas fa-edit",label:"View/Edit",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No report selected"},{name:"submitToDetailerServiceReport",permissions:[],roles:["salesconsultant","sysadmin"],icon:"fas fa-edit",label:"Submit To Detailer",disabled:e=>1!==e.app.tableSelection.length||!Object(v["c"])(e.user.roles,["salesconsultant","sysadmin"]),disabledTooltipText:e=>Object(v["c"])(e.user.roles,["salesconsultant","sysadmin"])?e.app.tableSelection.length<1?"No report selected":"Only one report is allowed at a time.":"User is not sales consultant"},{name:"actionsServiceReport",permissions:[],roles:["detailer","sysadmin"],icon:"fas fa-edit",label:"Approve/Reject",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No report selected"},{name:"completeServiceReport",permissions:[],roles:["purchaser","factory","logistic","sysadmin"],icon:"fas fa-edit",label:"Complete Task",disabled:e=>e.app.tableSelection.length<1,disabledTooltipText:"No report selected"}]}]}];var w=a("b178");const A={state:{menus:S(),activeMenu:"usermanagement",tableSelection:[],dialog:"",datatabs:[],activeDataTab:0},mutations:{SET_MENUS:(e,t)=>{e.menus=t},SET_ACTIVE_MENU:(e,t)=>{e.activeMenu=t,e.tableSelection=[]},TOGGLE_DIALOG:(e,t)=>{e.dialog=t},UPDATE_TAB:(e,t)=>{let a=e.datatabs.find(e=>e.name===t.name);"undefined"!==typeof a&&(a.data=t.data)},SET_ACTIVE_DATATAB:(e,t)=>{e.activeDataTab=t},RESET_DATATABS:e=>{e.datatabs=[]},NEW_TAB:(e,t)=>{const a=e.menus.find(e=>e.default_datatab_title===t.name);a&&a.config&&(t.config=a.config),e.datatabs.push(t)},CLOSE_TAB:(e,t)=>{e.datatabs.splice(t,1)},SELECT_TABLE_ITEM:(e,t)=>{e.tableSelection=t}},actions:{SetMenu({commit:e},t){e("SET_MENUS",t)},SetActiveMenu({commit:e,dispatch:t},a){return m()((function*(){e("SET_ACTIVE_MENU",a),e("RESET_DATATABS"),t("GetData"),e("SET_ACTIVE_DATATAB",0)}))()},GetData({state:e,dispatch:t}){return m()((function*(){w["a"].show();const a=e.menus.filter(t=>t.name===e.activeMenu);a[0].request&&a[0].request.get&&(yield t(a[0].request.get,{name:a[0].default_datatab_title})),w["a"].hide()}))()},DeleteData({state:e,dispatch:t},a){return m()((function*(){const r=e.menus.filter(t=>t.name===e.activeMenu);r[0].request.delete&&(yield t(r[0].request.delete,a))}))()},OpenDialog({commit:e},t){e("TOGGLE_DIALOG",t)},NewTab({commit:e},t){"index"!==t.columns[0].name&&t.columns.unshift({name:"index",label:"#",field:"index"}),t.data.forEach((e,t)=>{e.index=++t}),e("NEW_TAB",t)},UpdateTab({commit:e,state:t,dispatch:a},r){if(a("OnTableSelection",[]),!r.name){const e=t.menus.filter(e=>e.name===t.activeMenu);r.name=e[0].default_datatab_title}"index"!==r.columns[0].name&&r.columns.unshift({name:"index",label:"#",field:"index"}),r.data.forEach((e,t)=>{e.index=++t}),e("UPDATE_TAB",r)},CloseDataTab({commit:e},t){e("CLOSE_TAB",t),e("SET_ACTIVE_DATATAB",0)},SetActiveDataTab({commit:e},t){e("SET_ACTIVE_DATATAB",t),e("SELECT_TABLE_ITEM",[])},OnTableSelection({commit:e},t){e("SELECT_TABLE_ITEM",t)},InitializePage({state:e,dispatch:t}){e.menus.length>0&&t("SetActiveMenu",e.menus[0].name)},FilterTable({state:e,dispatch:t},a){var r=this;return m()((function*(){let n=null;for(const e of r.$database.entities)e.name===a.include&&(n=e.model);if(!n)throw new Error("No database exists. Please check your include to match models entity.");n=n.query().withAll();for(const e of a.where.or)for(const t in e)e[t]&&(n=n.where(t,e[t]));delete a.include,console.log(a),console.log("model",n);const i=e.menus.filter(t=>t.name===e.activeMenu);console.log(e.activeMenu),i[0].request.get&&(yield t(i[0].request.get,{name:`Filter (${e.datatabs.length})`,filter:a,model:n}))}))()},FilterMenus({dispatch:e,rootState:t}){return m()((function*(){const a=S(),r=t.user.permissions,n=t.user.roles;if("undefined"!==typeof r)if(r.includes("SKAllPermissions"))e("SetMenu",a);else{Object(v["a"])(a,e=>Object(v["c"])(r,e.permissions)),Object(v["c"])(n,["sysadmin"])||Object(v["a"])(a,e=>Object(v["c"])(n,e.roles));for(const e of a)if(e.buttons){for(const t of e.buttons)Object(v["a"])(t.tos,e=>Object(v["c"])(r,e.permissions)),Object(v["c"])(n,["sysadmin"])||Object(v["a"])(t.tos,e=>Object(v["c"])(n,e.roles));Object(v["a"])(e.buttons,e=>e.tos.length)}e("SetMenu",a)}}))()}}};var C=A;const T={state:{open:[],reasons:[]},mutations:{OPEN:(e,t)=>{e.open.unshift(t)},CLOSE:(e,t)=>{e.open=e.open.filter(e=>e!==t)},REASON:(e,t)=>{e.reasons.unshift(t)}},actions:{ModalOpen({commit:e},t){e("OPEN",t)},ModalClose({commit:e},t){e("CLOSE",t)},Reason({commit:e},t){e("REASON",t)}}};var O=T,E=a("f246");const D={state:{},mutations:{},actions:{GetAllSessions(){return new Promise((e,t)=>{this.$repository.session.listing().then(t=>{E["a"].insert({data:t.data}),e(t.data)}).catch(e=>{console.log(e),t(e)})})},DeleteSession({commit:e},t){var a=this;return new Promise(function(){var e=m()((function*(e,r){a.$repository.session.delete(t).then(a=>{E["a"].delete(t),e(a)}).catch(e=>{r(e)})}));return function(t,a){return e.apply(this,arguments)}}())}}};var R=D,N=a("b675");const P={state:{},mutations:{},actions:{GetAllZones(){return new Promise((e,t)=>{this.$repository.zone.listing().then(t=>{N["a"].insert({data:t.data}),e(t.data)}).catch(e=>{console.log(e),t(e)})})},AddZone({commit:e},t){return new Promise((e,a)=>{this.$repository.zone.create(t).then(t=>{N["a"].insert({data:t.data}),e(t.data)}).catch(e=>{console.log(e),a(e)})})},DeleteZone({commit:e},t){var a=this;return new Promise(function(){var e=m()((function*(e,r){a.$repository.zone.delete(t).then(a=>{N["a"].delete(t),e(a)}).catch(e=>{r(e)})}));return function(t,a){return e.apply(this,arguments)}}())}}};var x=P,U=a("0006");const q={state:{},mutations:{},actions:{GetAllRoles(){return new Promise((e,t)=>{this.$repository.role.listing().then(t=>{U["a"].insert({data:t.data}),e(t.data)}).catch(e=>{console.log(e),t(e)})})},AddRole({commit:e},t){return new Promise((e,a)=>{this.$repository.role.create(t).then(t=>{U["a"].insert({data:t.data}),e(t.data)}).catch(e=>{console.log(e),a(e)})})},DeleteRole({commit:e},t){var a=this;return new Promise(function(){var e=m()((function*(e,r){a.$repository.role.delete(t).then(a=>{U["a"].delete(t),e(a)}).catch(e=>{r(e)})}));return function(t,a){return e.apply(this,arguments)}}())},GetRoleUsers({},{id:e,filter:t=null}){var a=this;return new Promise(function(){var r=m()((function*(r,n){a.$repository.role.users(e,t).then(e=>{r(e)}).catch(e=>{n(e)})}));return function(e,t){return r.apply(this,arguments)}}())}}};var M=q,L=a("764d");const k={state:{},mutations:{},actions:{GetAllBranches({dispatch:e},t){return new Promise((a,r)=>{let n=void 0!==t?t.filter:null;this.$repository.branch.listing(n).then(r=>{L["a"].insert({data:r.data}),t&&t.name&&e("NewTab",{name:t.name,columns:L["a"].columns,key:L["a"].primaryKey,data:null!=t.model?t.model.get():L["a"].query().where("code",e=>"HQ"!==e).withAll().get()}),a(L["a"].all())}).catch(e=>{console.log(e),r(e)})})},GetBranchesInInnerRotation(){var e=this;return m()((function*(){return new Promise((t,a)=>{e.$repository.branch.inInnerRotation().then(e=>{t(e)}).catch(e=>{a(e)})})}))()},GetInnerRotationNumber(){var e=this;return m()((function*(){return new Promise((t,a)=>{e.$repository.branch.innerRotationNumber().then(e=>{t(e)}).catch(e=>{a(e)})})}))()},CheckEmailBranchExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.branch.checkEmailBranchExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},RegisterBranch({dispatch:e},t){return new Promise((a,r)=>{this.$repository.branch.create(t).then(r=>{a(r.data),L["a"].insert({data:r.data}).then(e("UpdateTab",{name:"Branches",columns:L["a"].columns,key:L["a"].primaryKey,data:null!=t.model?t.model.get():L["a"].query().where("code",e=>"HQ"!==e).withAll().get()}))}).catch(e=>{r(e)})})},UpdateBranch({dispatch:e},t){return new Promise((a,r)=>{L["a"].update({where:t.uuid,data:t});const n=L["a"].find(t.uuid);this.$repository.branch.updateById(n.getId,n.getBodyRequest).then(t=>{e("UpdateTab",{name:"Branches",columns:L["a"].columns,key:L["a"].primaryKey,data:L["a"].query().where("code",e=>"HQ"!==e).withAll().get()}),a(t.data)}).catch(t=>{r(t),e("GetAllBranches")})})},UpdateBranchRotation({dispatch:e},t){return new Promise((a,r)=>{L["a"].update({where:t.uuid,data:t});const n=L["a"].find(t.uuid);this.$repository.branch.updateRotationById(n.getId,n.getBodyRequest).then(t=>{e("UpdateTab",{name:"Branches",columns:L["a"].columns,key:L["a"].primaryKey,data:L["a"].query().where("code",e=>"HQ"!==e).withAll().get()}),a(t.data)}).catch(t=>{r(t),e("GetAllBranches")})})},CheckBranchCodeExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.branch.checkBranchCodeExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},CheckFaxExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.branch.checkFaxExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},CheckMobileBranchExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.branch.checkMobileExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},DeleteBranch({dispatch:e},t){return new Promise((a,r)=>{this.$repository.branch.delete(t).then(r=>{a(r.data),L["a"].delete(t).then(e("UpdateTab",{name:"Branches",columns:L["a"].columns,key:L["a"].primaryKey,data:L["a"].query().where("code",e=>"HQ"!==e).withAll().get()}))}).catch(e=>{r(e)})})}}};var B=k,G=a("9523"),j=a.n(G),Q=a("a0eb");const{formatDate:F}=w["e"];class K extends i["b"]{static fields(){return{uuid:this.attr(null),name:this.attr(""),email:this.attr(""),status:this.attr(""),state:this.attr(""),phone:this.attr(""),campaign:this.attr(""),updatedAt:this.attr(""),branch:this.belongsTo(L["a"],"branchId"),salesConsultant:this.belongsTo(p["a"],"userId"),designs:this.hasMany(Q["a"],"leadId")}}get getBranchCode(){return this.branch?this.branch.code:""}get salesConsultantCode(){if(!this.salesConsultant)return"Unassigned";const{uuid:e}=this.salesConsultant,[t]=p["a"].query().withAll().whereId(e).get();return t.profile.sccode}get displayUpdatedAt(){return F(this.updatedAt,"DD MMM YYYY")}get getId(){return this.$id}get quotationNumber(){return this.designs.length?this.designs[0].quotationNumber:""}get getBodyRequest(){return{state:this.state,status:this.status}}}j()(K,"entity","leads"),j()(K,"primaryKey","uuid"),j()(K,"columns",[{name:"updatedAt",label:"Proposal Date",align:"left",field:"displayUpdatedAt",sortable:!0,editable:!0},{name:"name",label:"Customer Name",align:"left",field:"name",sortable:!0,editable:!0},{name:"phone",label:"Customer Contact",align:"left",field:"phone",sortable:!0,editable:!0},{name:"email",label:"Customer Email",align:"left",field:"email",sortable:!1},{name:"quotation_number",label:"Quotation Number",align:"left",field:"quotationNumber",sortable:!1},{name:"campaign",label:"Campaign",align:"left",field:"campaign",sortable:!1},{name:"status",label:"Status",field:"status",align:"left",sortable:!0},{name:"assigned_to",label:"SC Code",field:"salesConsultantCode",align:"left",sortable:!0},{name:"branch",label:"Branch Code",field:"getBranchCode",align:"left",sortable:!0}]);var $=a("a193");const _={state:{},mutations:{},actions:{GetAllLeads({dispatch:e},t){return new Promise((a,r)=>{let n=void 0!==t?t.filter:null;this.$repository.lead.listing(n).then(r=>{$["a"].insert({data:r.data}),t&&(t.name?e("NewTab",{name:t.name,columns:$["a"].columns,key:$["a"].primaryKey,data:null!=t.model?t.model.get():$["a"].query().withAll().get()}):e("UpdateTab",{name:"Leads",columns:$["a"].columns,key:$["a"].primaryKey,data:$["a"].all()})),a($["a"].query().get())}).catch(e=>{console.log(e),r(e)})})},getRecommendedBranch(){var e=this;return m()((function*(){return new Promise((t,a)=>{e.$repository.lead.getRecommendedBranch().then(e=>{t(e.data)}).catch(e=>{a(e)})})}))()},GetQualifiedLeads({dispatch:e,rootState:t},a){var r=this;return m()((function*(){return yield $["a"].deleteAll(),yield e("GetAllUsers",{}),new Promise((n,i)=>{const{user:s}=t,o=()=>Object(v["c"])(s.roles,["sysadmin","callcenter","hQManager"])?void 0:s.branchId,l=()=>Object(v["c"])(s.roles,["salesconsultant"])?s.userId:void 0;let d=void 0!==a.filter?a.filter:{where:{and:[{state:"QL"},{branchId:o()},{userId:l()}]}};r.$repository.lead.listing(d).then(r=>{$["a"].insert({data:r.data});const[i]=t.user.roles,s="salesconsultant"===i?$["a"].columns.filter(e=>"assigned_to"!==e.name):$["a"].columns;let o;o="salesconsultant"===i?$["a"].query().where("state","QL").where("status","Assigned").orWhere("status","Pending Visit").withAll():$["a"].query().where("state","QL").where("status","New").orWhere("status","Assigned").orWhere("status","Pending Visit").orWhere("status","disqualified").withAll(),a.name?e("NewTab",{name:a.name,columns:s,key:$["a"].primaryKey,data:null!=a.model?a.model.get():o.get()}):e("UpdateTab",{name:"Qualified Leads",columns:$["a"].columns,key:$["a"].primaryKey,data:o.get()}),n($["a"].query().get())}).catch(e=>{console.log(e),i(e)})})}))()},GetDesignLeads({dispatch:e,rootState:t},a){var r=this;return m()((function*(){return yield $["a"].deleteAll(),p["a"].all().length||(yield e("GetAllUsers",{})),new Promise((n,i)=>{let s=void 0!==a.filter?a.filter:{where:{state:"LD",branchId:t.user.roles.includes("sysadmin")?void 0:t.user.branchId,userId:t.user.roles.includes("salesconsultant")?t.user.userId:void 0},include:[{relation:"designs",scope:{where:{state:"SummaryQuotation"}}}]};r.$repository.lead.listing(s).then(r=>{K.insert({data:r.data});for(const e of r.data)if(e.designs)for(const t of e.designs)Q["a"].insert({data:t});let i=K.query().where("status","Proposal In Progress").orWhere("status","Pending Decision").orWhere("status","Won").orWhere("status","Lost");const[s]=t.user.roles;"sysadmin"!==s&&(i=i.where("branchId",t.user.branchId)),i=i.withAll(),a.name?e("NewTab",{name:a.name,columns:K.columns,key:K.primaryKey,data:null!=a.model?a.model.get():i.get()}):e("UpdateTab",{name:"Design Proposal",columns:K.columns,key:K.primaryKey,data:null!=a.model?a.model.get():i.get()}),n(K.query().get())}).catch(e=>{console.log(e),i(e)})})}))()},GetOnlineLeads({dispatch:e},t){var a=this;return m()((function*(){return yield $["a"].deleteAll(),new Promise((r,n)=>{let i=void 0!==t.filter?t.filter:{where:{state:"OL"}};a.$repository.lead.listing(i).then(a=>{$["a"].insert({data:a.data});const n=$["a"].columns.filter(e=>"assigned_to"!==e.name);t.name?e("NewTab",{name:"New Leads",columns:n,key:$["a"].primaryKey,data:t.model?t.model.get():$["a"].query().where("state","OL").withAll().get()}):e("UpdateTab",{name:"New Leads",columns:n,key:$["a"].primaryKey,data:$["a"].query().where("state","OL").withAll().get()}),r($["a"].query().get())}).catch(e=>{console.log(e),n(e)})})}))()},AssignLeadToBranch({dispatch:e},t){var a=this;return m()((function*(){return new Promise((r,n)=>{$["a"].update({where:t.uuid,data:{state:"QL",status:"New",branchId:t.branchId,noteToBranch:t.noteToBranch}});const i=$["a"].find(t.uuid);for(let e of Object.keys(i)){var s;i[e]=null!==(s=i[e])&&void 0!==s?s:""}a.$repository.lead.assignToBranch(i.getId,i.getBodyRequest).then(function(){var t=m()((function*(t){e("GetOnlineLeads",{}),r(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{n(e)})})}))()},RequalifyQualifiedLead({dispatch:e},t){var a=this;return m()((function*(){return new Promise((r,n)=>{t.state="QL",t.status="New",t.rejectReason="",$["a"].update({where:t.uuid,data:t});const i=$["a"].find(t.uuid);for(let e of Object.keys(i)){var s;i[e]=null!==(s=i[e])&&void 0!==s?s:""}a.$repository.lead.updateById(i.getId,i.getBodyRequest).then(function(){var t=m()((function*(t){e("GetQualifiedLeads",{}),r(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{n(e)})})}))()},DisqualifiedQualifiedLead({dispatch:e},t){var a=this;return m()((function*(){return new Promise((r,n)=>{t.state="QL",t.status="disqualified",t.requalifyReason="",$["a"].update({where:t.uuid,data:t});const i=$["a"].find(t.uuid);for(let e of Object.keys(i)){var s;i[e]=null!==(s=i[e])&&void 0!==s?s:""}a.$repository.lead.updateById(i.getId,i.getBodyRequest).then(function(){var t=m()((function*(t){e("GetQualifiedLeads",{}),r(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{n(e)})})}))()},PendingVisitQualifiedLead({dispatch:e},t){var a=this;return m()((function*(){return new Promise((r,n)=>{t.state="QL",t.status="Pending Visit",$["a"].update({where:t.uuid,data:t});const i=$["a"].find(t.uuid);for(let e of Object.keys(i)){var s;i[e]=null!==(s=i[e])&&void 0!==s?s:""}a.$repository.lead.updateById(i.getId,i.getBodyRequest).then(function(){var t=m()((function*(t){e("GetQualifiedLeads",{}),r(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{n(e)})})}))()},AssignLeadToDesign({dispatch:e},t){var a=this;return m()((function*(){return new Promise((r,n)=>{let i={state:"LD",status:"Proposal In Progress"};$["a"].update({where:t.uuid,data:i});const s=$["a"].find(t.uuid);for(let e of Object.keys(s)){var o;s[e]=null!==(o=s[e])&&void 0!==o?o:""}a.$repository.lead.updateById(s.getId,s.getBodyRequest).then(function(){var t=m()((function*(t){e("GetQualifiedLeads",{}),r(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{n(e)})})}))()},LeadCheckEmailExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.lead.checkEmailExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},LeadCheckMobileExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.lead.checkMobileExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},DisqualifyOnlineLead({dispatch:e},t){var a=this;return m()((function*(){return new Promise((r,n)=>{t.state="OL",t.status="disqualified",t.requalifyReason="",$["a"].update({where:t.uuid,data:t});const i=$["a"].find(t.uuid);for(let e of Object.keys(i)){var s;i[e]=null!==(s=i[e])&&void 0!==s?s:""}a.$repository.lead.updateById(i.getId,i.getBodyRequest).then(function(){var t=m()((function*(t){e("GetOnlineLeads",{}),r(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{n(e)})})}))()},CalculateDrawing({},e){return new Promise((t,a)=>{this.$repository.lead.calculateDrawing(e).then(e=>{t(e.data)}).catch(e=>{a(e)})})},GetDetailedQuotations({},e){return new Promise((t,a)=>{let r=void 0!==e&&e.filter?e.filter:{where:{leadId:e,state:"DetailedQuotation"},include:[{relation:"quotationDetails"},{relation:"designOtherItems"}]};this.$repository.lead.getDrawings(r).then(e=>{t(e.data)}).catch(e=>{a(e)})})},GetSummaryQuotation({},e){return new Promise((t,a)=>{let r=void 0!==e&&e.filter?e.filter:{where:{leadId:e,state:"SummaryQuotation"},include:[{relation:"tradingItems",scope:{include:[{relation:"designAdditionalItems",scope:{where:{designId:e}}}]}},{relation:"looseItems",scope:{include:[{relation:"designAdditionalLooseItems",scope:{where:{designId:e}}}]}},{relation:"quotationDetails"},{relation:"designOtherItems"}]};this.$repository.lead.getDrawings(r).then(e=>{t(e.data)}).catch(e=>{a(e)})})},GetDesigns({},e){return new Promise((t,a)=>{let r={include:[{relation:"tradingItems",scope:{include:[{relation:"designAdditionalItems",scope:{where:{designId:e}}}]}},{relation:"looseItems",scope:{include:[{relation:"designAdditionalLooseItems",scope:{where:{designId:e}}}]}},{relation:"quotationDetails"},{relation:"designOtherItems"}]};this.$repository.lead.getDesigns(e,r).then(e=>{t(e.data)}).catch(e=>{a(e)})})},GetDetailedQuotation({},e){return new Promise((t,a)=>{this.$repository.lead.getDetailedQuotation(e).then(e=>{t(e.data)}).catch(e=>{a(e)})})},UpdateDetailedQuotation({},e){return new Promise((t,a)=>{this.$repository.lead.updateDetailedQuotation(e).then(e=>{t(e.data)}).catch(e=>{a(e)})})},CreateDetailedQuotation({},e){return new Promise((t,a)=>{this.$repository.lead.createDetailedQuotation(e).then(e=>{t(e.data)}).catch(e=>{a(e)})})},UpdateDesignState({},e){return new Promise((t,a)=>{e.state="LD",e.status="Pending Decision",$["a"].update({where:e.leadId,data:e});const r=$["a"].find(e.leadId);for(let e of Object.keys(r)){var n;r[e]=null!==(n=r[e])&&void 0!==n?n:""}this.$repository.lead.updateById(r.getId,r.getBodyRequest).then(function(){var e=m()((function*(e){t(e.data)}));return function(t){return e.apply(this,arguments)}}()).catch(e=>{a(e)}),this.$repository.lead.updateDesignState(e).then(e=>{t(e.data)}).catch(e=>{a(e)})})},CalculateAllDetailed({},e){return new Promise((t,a)=>{this.$repository.lead.calculateAllDetailed(e).then(e=>{t(e.data)}).catch(e=>{a(e)})})},CreateOrUpdateOrderConfirmationFromSummaryQuotations({},e){return new Promise((t,a)=>{e.state="LD",e.status="Won",$["a"].update({where:e.leadId,data:e});const r=$["a"].find(e.leadId);for(let e of Object.keys(r)){var n;r[e]=null!==(n=r[e])&&void 0!==n?n:""}this.$repository.lead.updateById(r.getId,r.getBodyRequest).then(function(){var e=m()((function*(e){t(e.data)}));return function(t){return e.apply(this,arguments)}}()).catch(e=>{a(e)}),this.$repository.lead.createOrUpdateOrderConfirmationFromSummaryQuotations(e).then(e=>{t(e.data)}).catch(e=>{a(e)})})},GetTradingItems({},e){return new Promise((t,a)=>{let r=void 0!==e&&e.filter?e.filter:{where:{category:e,active:"Active"}};this.$repository.lead.getTradingItems(r).then(e=>{t(e.data)}).catch(e=>{a(e)})})},AddQualifiedLead({dispatch:e,rootState:t},a){var r;a.branchId=t.user.branchId,a.state="QL",a.status=null!==(r=a.status)&&void 0!==r?r:"New",this.$repository.branch.GetManager(a.branchId,a,t.user.userId).then(t=>(console.log("res",t),new Promise((t,r)=>{this.$repository.lead.create(a).then(a=>{console.log("res",a),$["a"].insert({data:a.data}),e("GetQualifiedLeads",{}),t(a.data)}).catch(e=>{console.log(e),r(e)})}))).catch(e=>{console.log(e),reject(e)})},DeleteLead({},e){var t=this;return new Promise(function(){var a=m()((function*(a,r){t.$repository.lead.delete(e).then(t=>{$["a"].delete(e),dispatch("UpdateTab",{name:"Online Leads",columns:$["a"].columns,key:$["a"].primaryKey,data:$["a"].query().withAll().get()}),a(t)}).catch(e=>{r(e)})}));return function(e,t){return a.apply(this,arguments)}}())},AssignLeadToSC({dispatch:e},t){var a=this;return new Promise(function(){var r=m()((function*(r,n){t.state="QL",t.status="Assigned",yield $["a"].update({where:t.uuid,data:t});const i=$["a"].find(t.uuid);for(let e of Object.keys(i)){var s;i[e]=null!==(s=i[e])&&void 0!==s?s:""}a.$repository.lead.updateById(i.getId,i.getBodyRequest).then(t=>{e("GetQualifiedLeads",{}),r(t.data)}).catch(e=>{n(e)})}));return function(e,t){return r.apply(this,arguments)}}())},UpdateLead({dispatch:e},t){var a=this;return m()((function*(){return new Promise(function(){var r=m()((function*(r,n){a.$repository.lead.updateById(t.uuid,t),yield $["a"].update({where:t.uuid,data:t});const i=$["a"].find(t.uuid);console.log({lead:i});for(let e of Object.keys(i)){var s;i[e]=null!==(s=i[e])&&void 0!==s?s:""}a.$repository.lead.updateById(i.getId,i.getBodyRequest).then(t=>{e("UpdateTab",{name:"Qualified Leads",columns:$["a"].columns,key:$["a"].primaryKey,data:$["a"].query().withAll().get()}),r(t.data)}).catch(e=>{n(e)})}));return function(e,t){return r.apply(this,arguments)}}())}))()},CampaignChangeRequest({rootState:e},t){var a=this;return console.log(t.data),console.log(t.user),new Promise(function(){var r=m()((function*(r,n){a.$repository.lead.ChangeCampaign(t,e.user.userId).then(e=>{r(e.data),console.log("rescampaignchange",e)}).catch(e=>{console.log(e),n(e)})}));return function(e,t){return r.apply(this,arguments)}}())}}};var V=_,Y=a("1b87"),J=a("c2e8"),W=a("62b8"),H=a("5fec"),z=a("6e14");const Z={state:{},mutations:{},actions:{GetAllItems({dispatch:e},t){var a=this;return m()((function*(){return new Promise(function(){var r=m()((function*(r,n){const i=yield a.$repository.serviceReportItem.listing();yield W["a"].insert({data:i.data}),a.$repository.looseitem.listing().then(e=>{H["a"].insert({data:e.data})}),a.$repository.opitemlist.listing().then(e=>{Y["a"].insert({data:e.data})}),a.$repository.material.listing().then(e=>{z["a"].insert({data:e.data})}),a.$repository.itemlist.listing().then(a=>{J["a"].insert({data:a.data}),t?(e("NewTab",{name:"Item list",key:J["a"].primaryKey,columns:J["a"].columns,data:J["a"].all()}),e("NewTab",{name:"SR Item List",key:W["a"].primaryKey,columns:W["a"].columns,data:W["a"].all()}),e("NewTab",{name:"OP Item List",key:Y["a"].primaryKey,columns:Y["a"].columns,data:Y["a"].all()}),e("NewTab",{name:"Loose Item List",key:H["a"].primaryKey,columns:H["a"].columns,data:H["a"].all()}),e("NewTab",{name:"Material List",key:z["a"].primaryKey,columns:z["a"].columns,data:z["a"].all()})):e("UpdateTab",{name:"Items",key:J["a"].primaryKey,columns:J["a"].columns,data:J["a"].all()}),r(a.data)}).catch(e=>{console.log(e),n(e)})}));return function(e,t){return r.apply(this,arguments)}}())}))()},GetLooseItems({},e){return new Promise((t,a)=>{let r=void 0!==e&&e.filter?e.filter:{where:{category:e,active:"Active"}};this.$repository.looseitem.listing(r).then(e=>{t(e.data)}).catch(e=>{a(e)})})},DeleteLead({commit:e},t){var a=this;return new Promise(function(){var e=m()((function*(e,r){a.$repository.itemlist.delete(t).then(a=>{J["a"].delete(t),e(a)}).catch(e=>{r(e)})}));return function(t,a){return e.apply(this,arguments)}}())},UpdateItem({dispatch:e},t){var a=this;return m()((function*(){return new Promise(function(){var r=m()((function*(r,n){yield J["a"].update({where:t.uuid,data:t}),a.$repository.itemlist.updateById(t.uuid,t).then(t=>{e("UpdateTab",{name:"Item list",columns:J["a"].columns,key:J["a"].primaryKey,data:J["a"].query().withAll().get()}),r(t.data)}).catch(e=>{n(e)})}));return function(e,t){return r.apply(this,arguments)}}())}))()},UpdateMaterialItem({dispatch:e},t){var a=this;return m()((function*(){return new Promise(function(){var r=m()((function*(r,n){yield z["a"].update({where:t.uuid,data:t}),a.$repository.material.updateById(t.uuid,t).then(t=>{e("UpdateTab",{name:"Material List",columns:z["a"].columns,key:z["a"].primaryKey,data:z["a"].query().withAll().get()}),r(t.data)}).catch(e=>{n(e)})}));return function(e,t){return r.apply(this,arguments)}}())}))()},UpdateLooseItem({dispatch:e},t){var a=this;return m()((function*(){return new Promise(function(){var r=m()((function*(r,n){yield H["a"].update({where:t.uuid,data:t}),a.$repository.looseitem.updateById(t.uuid,t).then(t=>{e("UpdateTab",{name:"Loose Item List",columns:H["a"].columns,key:H["a"].primaryKey,data:H["a"].query().withAll().get()}),r(t.data)}).catch(e=>{n(e)})}));return function(e,t){return r.apply(this,arguments)}}())}))()},UpdateOptionalItem({dispatch:e},t){var a=this;return m()((function*(){return new Promise(function(){var r=m()((function*(r,n){yield Y["a"].update({where:t.uuid,data:t}),a.$repository.opitemlist.updateById(t.uuid,t).then(t=>{e("UpdateTab",{name:"OP Item List",columns:Y["a"].columns,key:Y["a"].primaryKey,data:Y["a"].query().withAll().get()}),r(t.data)}).catch(e=>{n(e)})}));return function(e,t){return r.apply(this,arguments)}}())}))()},UpdateServiceReportItem({dispatch:e},t){var a=this;return m()((function*(){return new Promise(function(){var r=m()((function*(r,n){yield W["a"].update({where:t.uuid,data:t}),a.$repository.serviceReportItem.updateById(t.uuid,t).then(t=>{e("UpdateTab",{name:"SR Item List",columns:W["a"].columns,key:W["a"].primaryKey,data:W["a"].query().withAll().get()}),r(t.data)}).catch(e=>{n(e)})}));return function(e,t){return r.apply(this,arguments)}}())}))()}}};var X=Z,ee=a("5a30");const te={state:{},mutations:{},actions:{UploadFile({commit:e},t){return new Promise((e,a)=>{let r=new ee;r.append("file",t),this.$repository.container.upload(r).then(t=>{e(t.data.files.file[0].providerResponse)}).catch(e=>{console.log(e),a(e)})})},GetImage({commit:e},t){return new Promise((e,a)=>{this.$repository.container.download(t).then(t=>{e(t.data)}).catch(e=>{console.log(e),a(e)})})}}};var ae=te;const re={state:{},mutations:{},actions:{GetSSOToken({commit:e},t){return new Promise((e,t)=>{this.$services.kujiale.getSSOToken().then(t=>{e(t.data)}).catch(e=>{console.log(e),t(e)})})}}};var ne=re,ie=a("5f36");const se={state:{},mutations:{},actions:{GetCoLeads({dispatch:e,rootState:t},a){var r=this;return m()((function*(){return yield ie["a"].deleteAll(),p["a"].all().length||(yield e("GetAllUsers",{})),L["a"].all().length||(yield e("GetAllBranches",{})),new Promise((n,i)=>{let s=void 0!==a.filter?a.filter:{include:[{relation:"designs"},{relation:"paymentAttachments"}]};r.$repository.fco.listing(s).then(function(){var i=m()((function*(i){ie["a"].insert({data:i.data});const s=ie["a"].query().withAll(),o=()=>Object(v["c"])(t.user.roles,["hQAccountant","sysadmin"])?void 0:t.user.branchId,l=()=>Object(v["c"])(t.user.roles,["salesconsultant"])?t.user.userId:void 0;for(const e of s.get()){const t={where:{and:[{uuid:e.leadId},{branchId:o()},{userId:l()}]}},a=yield r.$repository.lead.listing(t);a.data.length||(yield ie["a"].delete(e.uuid)),yield $["a"].insert({data:a.data})}a.name?e("NewTab",{name:a.name,columns:ie["a"].columns.filter(e=>"statusForFCO"!==e.name),key:ie["a"].primaryKey,data:null!=a.model?a.model.get():s.get()}):e("UpdateTab",{name:"Orders",columns:ie["a"].columns.filter(e=>"statusForFCO"!==e.name),key:ie["a"].primaryKey,data:s.get()}),n(ie["a"].query().get())}));return function(e){return i.apply(this,arguments)}}()).catch(e=>{console.log(e),i(e)})})}))()},GetFcoLeads({dispatch:e,rootState:t},a){var r=this;return m()((function*(){return yield ie["a"].deleteAll(),new Promise((n,i)=>{let s=void 0!==a.filter?a.filter:{include:[{relation:"designs"},{relation:"paymentAttachments"}],where:{state:"FCO"}};r.$repository.fco.listing(s).then(function(){var i=m()((function*(i){ie["a"].insert({data:i.data});const s=ie["a"].query().withAll(),o=()=>Object(v["c"])(t.user.roles,["hQAccountant","sysadmin","detailer"])?void 0:t.user.branchId,l=()=>Object(v["c"])(t.user.roles,["salesconsultant"])?t.user.userId:void 0;for(const e of s.get()){const t={where:{and:[{uuid:e.leadId},{branchId:o()},{userId:l()}]}},a=yield r.$repository.lead.listing(t);a.data.length||(yield ie["a"].delete(e.uuid)),yield $["a"].insert({data:a.data})}a.name?e("NewTab",{name:a.name,columns:ie["a"].columns.filter(e=>"statusForOC"!==e.name),key:ie["a"].primaryKey,data:null!=a.model?a.model.get():s.get()}):e("UpdateTab",{name:"FCO",columns:ie["a"].columns.filter(e=>"statusForOC"!==e.name),key:ie["a"].primaryKey,data:s.get()}),n(ie["a"].query().get())}));return function(e){return i.apply(this,arguments)}}()).catch(e=>{console.log(e),i(e)})})}))()},OrderConfirmationAddDeposit({dispatch:e},t){var a=this;return m()((function*(){const{attachedDocumentDeposit:r,leadId:n,orderId:i,paidAmountDeposit:s,promoAmount:o,promoCode:l}=t;return new Promise((t,d)=>{a.$repository.fco.orderConfirmationAddDeposit(n,i,r,s,o,l).then(function(){var a=m()((function*(a){e("GetCoLeads",{}),t(a.data)}));return function(e){return a.apply(this,arguments)}}()).catch(e=>d(e))})}))()},AddFCOAttachment({},e){var t=this;return m()((function*(){const{fileName:a,name:r,type:n,orderId:i}=e;return new Promise((e,s)=>{t.$repository.fco.addAttachment(i,a,r,n).then(function(){var t=m()((function*(t){e(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>s(e))})}))()},AddFCOAttachmentFromDetailer({},e){var t=this;return m()((function*(){const{fileName:a,name:r,type:n,orderId:i,paymentOptionsId:s,chequeNo:o}=e;return new Promise((e,l)=>{t.$repository.fco.addAttachmentFromDetailer(i,a,r,n,s,o).then(function(){var t=m()((function*(t){e(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>l(e))})}))()},DeleteFCOAttachment({},e){var t=this;return m()((function*(){const{fileName:a,name:r,type:n,orderId:i}=e;return new Promise((e,s)=>{t.$repository.fco.deleteAttachment(i,a,r,n).then(function(){var t=m()((function*(t){e(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>s(e))})}))()},FinalOrderConfirmationRejectedAttachment({},e){var t=this;return m()((function*(){const{fileName:a,name:r,status:n,approvedAmount:i,orderId:s,uuid:o}=e;return new Promise((e,l)=>{t.$repository.fco.finalOrderConfirmationRejectedAttachment(s,a,r,n,i,o).then(function(){var t=m()((function*(t){e(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>l(e))})}))()},FinalOrderConfirmationApprovedAttachment({},e){var t=this;return m()((function*(){const{fileName:a,name:r,status:n,approvedAmount:i,orderId:s,uuid:o}=e;return new Promise((e,l)=>{t.$repository.fco.finalOrderConfirmationApprovedAttachment(s,a,r,n,i,o).then(function(){var t=m()((function*(t){e(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>l(e))})}))()},OrderConfirmationAcknowledged({dispatch:e},t){var a=this;return m()((function*(){const{orderId:r}=t;return new Promise((t,n)=>{a.$repository.fco.OrderConfirmationAcknowledged(r).then(function(){var a=m()((function*(a){e("GetCoLeads",{}),t(a.data)}));return function(e){return a.apply(this,arguments)}}()).catch(e=>n(e))})}))()},OrderConfirmationRejected({dispatch:e},t){var a=this;return m()((function*(){const{orderId:r,remarks:n}=t;return new Promise((t,i)=>{a.$repository.fco.OrderConfirmationRejected(r,n).then(function(){var a=m()((function*(a){e("GetCoLeads",{}),t(a.data)}));return function(e){return a.apply(this,arguments)}}()).catch(e=>i(e))})}))()},FinalOrderConfirmationSubmitted({dispatch:e},t){var a=this;return m()((function*(){const{orderId:r}=t;return new Promise((t,n)=>{a.$repository.fco.finalOrderConfirmationSubmitted(r).then(function(){var a=m()((function*(a){e("GetFcoLeads",{}),t(a.data)}));return function(e){return a.apply(this,arguments)}}()).catch(e=>n(e))})}))()},FinalOrderConfirmationBMRejected({dispatch:e},t){var a=this;return m()((function*(){const{orderId:r,remarks:n}=t;return new Promise((t,i)=>{a.$repository.fco.finalOrderConfirmationBMRejected(r,n).then(function(){var a=m()((function*(a){e("GetFcoLeads",{}),t(a.data)}));return function(e){return a.apply(this,arguments)}}()).catch(e=>i(e))})}))()},FinalOrderConfirmationHQARejected({dispatch:e},t){var a=this;return m()((function*(){const{orderId:r,remarks:n}=t;return new Promise((t,i)=>{a.$repository.fco.finalOrderConfirmationHQARejected(r,n).then(function(){var a=m()((function*(a){e("GetFcoLeads",{}),t(a.data)}));return function(e){return a.apply(this,arguments)}}()).catch(e=>i(e))})}))()},FinalOrderConfirmationSubmitToDetailer({dispatch:e},t){var a=this;return m()((function*(){const{orderId:r,totalApprovedAmount:n}=t;return new Promise((t,i)=>{a.$repository.fco.finalOrderConfirmationSubmitToDetailer(r,n).then(function(){var a=m()((function*(a){e("GetFcoLeads",{}),t(a.data)}));return function(e){return a.apply(this,arguments)}}()).catch(e=>i(e))})}))()},FinalOrderConfirmationApproveForProduction({dispatch:e},t){var a=this;return m()((function*(){const{orderId:r}=t;return new Promise((t,n)=>{a.$repository.fco.finalOrderConfirmationApproveForProduction(r).then(function(){var a=m()((function*(a){e("GetFcoLeads",{}),t(a.data)}));return function(e){return a.apply(this,arguments)}}()).catch(e=>n(e))})}))()},ToFco({dispatch:e},t){var a=this;return m()((function*(){return new Promise((r,n)=>{let i={state:"FCO",status:"FCO"};ie["a"].update({where:t.uuid,data:i}),a.$repository.fco.toFco(t).then(function(){var t=m()((function*(t){e("GetCoLeads",{}),r(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{n(e)})})}))()},ProduceFco({dispatch:e},t){var a=this;return m()((function*(){return new Promise((r,n)=>{a.$repository.fco.produceFco(t).then(function(){var t=m()((function*(t){e("GetFcoLeads",{}),r(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>n(e))})}))()},UpdateFCO({dispatch:e},t){var a=this;return m()((function*(){return new Promise((r,n)=>{a.$repository.fco.updateById(t.uuid,t).then(function(){var t=m()((function*(t){e("GetFcoLeads",{}),r(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>n(e))})}))()},GetOrderIdFromCron({},e){var t=this;return m()((function*(){const{orderId:a}=e;return new Promise((e,r)=>{t.$repository.fco.getOrderIdFromCron(a).then(function(){var t=m()((function*(t){e(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>r(e))})}))()},FinalOrderConfirmationCreateCronJob({dispatch:e},t){var a=this;return m()((function*(){const{orderId:r,createType:n,createDone:i}=t;return new Promise((t,s)=>{a.$repository.fco.finalOrderConfirmationCreateCronJob(r,n,i).then(function(){var a=m()((function*(a){e("GetFcoLeads",{}),t(a.data)}));return function(e){return a.apply(this,arguments)}}()).catch(e=>s(e))})}))()}}};var oe=se,le=a("4794");const de={state:{},mutations:{},actions:{GetAllPermissions(){return new Promise((e,t)=>{this.$repository.permission.listing().then(t=>{le["a"].insert({data:t.data}),e(t.data)}).catch(e=>{console.log(e),t(e)})})},AssignPermissionToUser({},e){return new Promise((t,a)=>{this.$repository.permission.assignToUser(e.permissionUuid,e.userUuid).then(e=>{t(e.data)}).catch(e=>{console.log(e),a(e)})})}}};var ue=de,ce=a("7f47");const me={state:{},mutations:{},actions:{GetAllCountries(){return new Promise((e,t)=>{this.$repository.country.getAll().then(t=>{ce["a"].insert({data:t.data}),e(t.data)}).catch(e=>{console.log(e),t(e)})})}}};var he=me,pe=a("5b11");const fe={state:{},mutations:{},actions:{GetAllExhibitions({dispatch:e},t){var a=this;return m()((function*(){return yield pe["a"].deleteAll(),new Promise((r,n)=>{a.$repository.exhibition.listing().then(a=>{pe["a"].insert({data:a.data}),e(t?"NewTab":"UpdateTab",{name:"Exhibition",key:pe["a"].primaryKey,columns:pe["a"].columns,data:pe["a"].all()}),r(a.data)}).catch(e=>{console.log(e),n(e)})})}))()},CheckExhibitionExist({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.exhibition.checkExhibitionExist(e).then(e=>{a(e.data.exist)}).catch(e=>{r(e)})})}))()},AddExhibition({commit:e,dispatch:t},a){return new Promise((e,r)=>{this.$repository.exhibition.create(a).then(a=>{e(a.data),pe["a"].insert({data:a.data}).then(t("UpdateTab",{name:"Exhibition",columns:pe["a"].columns,key:pe["a"].primaryKey,data:pe["a"].all()}))}).catch(e=>{r(e)})})},UpdateExhibition({commit:e,dispatch:t},a){return new Promise((e,r)=>{this.$repository.exhibition.updateExhibition(a).then(a=>{e(a.data),pe["a"].insert({data:a.data}).then(t("UpdateTab",{name:"Exhibition",columns:pe["a"].columns,key:pe["a"].primaryKey,data:pe["a"].all()}))}).catch(e=>{r(e)})})},setToDefaultExhibition({commit:e,dispatch:t},a){return new Promise((e,r)=>{this.$repository.exhibition.setToDefaultExhibition(a).then(a=>{e(a.data),pe["a"].insert({data:a.data}).then(t("UpdateTab",{name:"Exhibition",columns:pe["a"].columns,key:pe["a"].primaryKey,data:pe["a"].all()}))}).catch(e=>{r(e)})})},DeleteExhibition({commit:e,dispatch:t},a){return new Promise((e,r)=>{this.$repository.exhibition.delete(a).then(r=>{pe["a"].delete(a),t("UpdateTab",{name:"Exhibition",columns:pe["a"].columns,key:pe["a"].primaryKey,data:pe["a"].query().withAll().get()}),e(r)}).catch(e=>{r(e)})})}}};var be=fe,ge=a("83f9");const ye={actions:{GetAllMissingItems(){return new Promise((e,t)=>{this.$repository.missingItem.listing().then(function(){var t=m()((function*(t){yield ge["a"].insert({data:t.data}),e(ge["a"].all())}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{t(e)})})}}};var ve=ye,Ie=a("add6");const Se={actions:{GetAllCalculationLogs(){return new Promise((e,t)=>{this.$repository.calculationLog.listing().then(function(){var t=m()((function*(t){yield Ie["a"].insert({data:t.data}),e(Ie["a"].all())}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{t(e)})})}}};var we=Se,Ae=a("5421");const Ce=()=>({include:[{relation:"items",scope:{include:[{relation:"item"},{relation:"material"}]}},{relation:"customItems"},{relation:"lead"}]}),Te=({userRole:e,userId:t})=>{const a=e[0].toUpperCase()+e.substring(1);return()=>{const r=Ae["a"].query().withAll();return Ae["a"].all().length?Object(v["c"])([e],["sysadmin"])?r:Object(v["c"])([e],["salesconsultant"])?r.where("userId",t):Object(v["c"])([e],["detailer","hQAccountant"])?r.where("state",e=>"New"!==e):r.where("stateSequence",e=>!!e&&e.includes(a)):r}},Oe={state:{},mutations:{},actions:{GetAllMR({rootState:e,dispatch:t},a){var r=this;return m()((function*(){return new Promise(function(){var n=m()((function*(n,i){let s=void 0!==a.filter?a.filter:u()({where:{type:"MaintenanceReport"},order:["createdAt DESC","processedAt DESC"]},Ce());yield t("GetAllUsers"),r.$repository.serviceReport.listing(s).then(function(){var r=m()((function*(r){yield Ae["a"].deleteAll(),yield Ae["a"].insert({data:r.data});const i=Te({userRole:e.user.roles[0],userId:e.user.userId}),s=Ae["a"].columns.filter(e=>"serviceReportJobNumber"!==e.name&&"SRNumber"!==e.name);console.log("columns",s),a&&(a.name?t("NewTab",{name:a.name,columns:s,key:Ae["a"].primaryKey,data:i().get()}):t("UpdateTab",{name:"MR",columns:s,key:Ae["a"].primaryKey,data:i().get()})),n(Ae["a"].all())}));return function(e){return r.apply(this,arguments)}}()).catch(e=>{console.log(e),i(e)})}));return function(e,t){return n.apply(this,arguments)}}())}))()},GetAllSR({rootState:e,dispatch:t},a){var r=this;return m()((function*(){return new Promise(function(){var n=m()((function*(n,i){let s=void 0!==a.filter?a.filter:u()({where:{type:"ServiceReport"},order:["createdAt DESC","processedAt DESC"]},Ce());yield t("GetAllUsers"),r.$repository.serviceReport.listing(s).then(function(){var r=m()((function*(r){yield Ae["a"].deleteAll(),yield Ae["a"].insert({data:r.data});const i=Te({userRole:e.user.roles[0],userId:e.user.userId}),s=Ae["a"].columns.filter(e=>"maintenanceReportJobNumber"!==e.name&&"MRNumber"!==e.name);console.log("columns",s),a&&(a.name?t("NewTab",{name:a.name,columns:s,key:Ae["a"].primaryKey,data:i().get()}):t("UpdateTab",{name:"SR",columns:s,key:Ae["a"].primaryKey,data:i().get()})),n(Ae["a"].all())}));return function(e){return r.apply(this,arguments)}}()).catch(e=>{console.log(e),i(e)})}));return function(e,t){return n.apply(this,arguments)}}())}))()},CreateSR({dispatch:e},t){return new Promise((a,r)=>{this.$repository.serviceReport.create(t).then(function(){var t=m()((function*(t){Ae["a"].insert({data:t.data}),yield e("GetAllSR",{}),a(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{r(e)})})},CreateMR({dispatch:e},t){return new Promise((a,r)=>{this.$repository.serviceReport.create(t).then(function(){var t=m()((function*(t){yield e("GetAllMR",{}),a(t.data)}));return function(e){return t.apply(this,arguments)}}()).catch(e=>{r(e)})})},DeleteSR({dispatch:e},t){return new Promise((a,r)=>{this.$repository.serviceReport.delete(t).then(r=>{a(r.data),Ae["a"].delete(t).then(e("GetAllSR",{}))}).catch(e=>{r(e)})})},DeleteMR({dispatch:e},t){return new Promise((a,r)=>{this.$repository.serviceReport.delete(t).then(r=>{a(r.data),Ae["a"].delete(t).then(e("GetAllMR",{}))}).catch(e=>{r(e)})})},ServiceReportActions({dispatch:e},t){var a=this;return m()((function*(){const{uuid:r,data:n}=t;return new Promise((t,i)=>{a.$repository.serviceReport.updateById(r,n).then(function(){var a=m()((function*(a){e("GetAllSR",{}),e("GetAllMR",{}),t(a.data)}));return function(e){return a.apply(this,arguments)}}()).catch(e=>i(e))})}))()}}};var Ee=Oe;const De={state:{},mutations:{},actions:{StoreRejectionReason({dispatch:e},t){var a=this;return m()((function*(){const{reasonTitle:e,reasonCategory:r}=t;return new Promise((t,n)=>{a.$repository.rejectionreason.storeRejectionReason(e,r).then(function(){var e=m()((function*(e){t(e.data)}));return function(t){return e.apply(this,arguments)}}()).catch(e=>n(e))})}))()},GetAllRejectionReason(){var e=this;return m()((function*(){return new Promise((t,a)=>{e.$repository.rejectionreason.getAllRejectionReason().then(function(){var e=m()((function*(e){t(e.data)}));return function(t){return e.apply(this,arguments)}}()).catch(e=>a(e))})}))()},RemoveRejectionReason({},e){var t=this;return m()((function*(){return new Promise((a,r)=>{t.$repository.rejectionreason.removeRejectionReason(e).then(function(){var e=m()((function*(e){a(e.data)}));return function(t){return e.apply(this,arguments)}}()).catch(e=>r(e))})}))()}}};var Re=De,Ne=a("07f9");const Pe={state:{},mutations:{},actions:{GetAllPaymentOptions(){return new Promise((e,t)=>{this.$repository.paymentOptions.listing().then(t=>{Ne["a"].insert({data:t.data}),e(t.data)}).catch(e=>{console.log(e),t(e)})})},AddPaymentOptions({commit:e},t){return new Promise((e,a)=>{this.$repository.paymentOptions.create(t).then(t=>{Ne["a"].insert({data:t.data}),e(t.data)}).catch(e=>{console.log(e),a(e)})})},DeletePaymentOptions({commit:e},t){var a=this;return new Promise(function(){var e=m()((function*(e,r){a.$repository.paymentOptions.delete(t).then(a=>{Ne["a"].delete(t),e(a)}).catch(e=>{r(e)})}));return function(t,a){return e.apply(this,arguments)}}())}}};var xe=Pe;r["a"].use(n["a"]);const Ue=new n["a"].Store({modules:{user:y,app:C,modal:O,session:R,zone:x,role:M,branch:B,lead:V,itemlist:X,container:ae,designcad:ne,permission:ue,country:he,fco:oe,exhibition:be,missingItem:ve,calculationLog:we,serviceReport:Ee,rejectionReason:Re,paymentOptions:xe},getters:o,plugins:[i["c"].install(l["a"])],strict:!1});t["b"]=function(){return Ue}},4794:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("5319"),a("498a2");var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),name:this.attr(""),selected:this.attr(!1)}}get nameDisplay(){return this.name.replace("SK","").replace("Module","").replace(/([A-Z])/g," $1").trim()}get getBodyRequest(){return{uuid:this.uuid}}}n()(s,"entity","permission"),n()(s,"primaryKey","uuid")},5143:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),title:this.attr(""),section:this.attr("")}}}n()(s,"entity","rejection-reasons"),n()(s,"primaryKey","uuid")},5421:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));a("ddb0");var r=a("9523"),n=a.n(r),i=a("a193"),s=a("ebd1"),o=a("0937"),l=a("b178");const{formatDate:d}=l["e"];class u extends o["b"]{static fields(){return{uuid:this.attr(null),type:this.attr(""),state:this.attr(""),stateSequence:this.attr([]),installer:this.attr(""),installedDate:this.attr(null),jobNumber:this.attr(""),attachments:this.attr([]),remarks:this.attr(""),remarksSalesConsultant:this.attr(""),remarksDetailer:this.attr(""),count:this.attr(0),maintenanceReportJobNumber:this.attr(""),items:this.attr([]),customItems:this.attr([]),leadId:this.attr(""),userId:this.attr(""),createdAt:this.attr(""),processedAt:this.attr(""),submittedAt:this.attr(""),updatedAt:this.attr(""),leadManualInput:this.attr({}),lead:this.belongsTo(i["a"],"leadId","uuid"),submitter:this.belongsTo(s["a"],"userId","uuid"),LogNumber:this.attr("")}}get getId(){return this.$id}get displayCreatedAt(){return d(this.createdAt,"DD MMM YYYY")}get displayProcessedDate(){return d(this.processedAt,"DD MMM YYYY")}get displaySubmittedDate(){return d(this.submittedAt,"DD MMM YYYY")}get displayLeadName(){let[e]=i["a"].query().withAll().whereId(this.leadId).get();return e||(e=this.leadManualInput),e?e.name:""}get displayLeadContactNo(){let[e]=i["a"].query().withAll().whereId(this.leadId).get();return e||(e=this.leadManualInput),e?e.phone:""}get displayLeadEmail(){const[e]=i["a"].query().withAll().whereId(this.leadId).get();return e?e.email:""}get salesConsultantCode(){const[e]=i["a"].query().withAll().whereId(this.leadId).get();if(!e)return"";if(!e.salesConsultant)return"";const{uuid:t}=e.salesConsultant,[a]=s["a"].query().withAll().whereId(t).get();return a.profile.sccode}get getBranchCode(){const[e]=i["a"].query().withAll().whereId(this.leadId).get();return e&&e.branch?e.branch.code:""}get serviceReportJobNumber(){const e=e=>"SR"+e,t=e=>`${e}-${this.count}`,a=u.query().where("jobNumber",this.jobNumber).get(),r=parseInt(this.jobNumber);return 1===a.length?e(r):e(t(parseInt(r)))}get mrJobNumber(){return"MR"+this.maintenanceReportJobNumber}get SRNumber(){var e="",t=("000"+this.LogNumber).substr(-3);return e=this.count>1?`SR - ${t} - ${this.count}`:"SR - "+t,e}get MRNumber(){var e="",t=("000"+this.LogNumber).substr(-3);return e=this.count>1?`MR - ${t} - ${this.count}`:"MR - "+t,e}get getBodyRequest(){return{installedDate:this.installedDate,installer:this.installer,jobNumber:this.jobNumber,state:this.state,type:this.type,LogNumber:this.LogNumber}}}n()(u,"entity","service-reports"),n()(u,"primaryKey","uuid"),n()(u,"columns",[{name:"SRNumber",label:"SR Number",align:"left",field:"SRNumber",sortable:!0},{name:"MRNumber",label:"MR Number",align:"left",field:"MRNumber",sortable:!0},{name:"serviceReportJobNumber",label:"Job Number",align:"left",field:"serviceReportJobNumber",sortable:!0},{name:"maintenanceReportJobNumber",label:"Job Number",align:"left",field:"mrJobNumber",sortable:!0},{name:"submittedAt",label:"Submission Date",align:"left",field:"displaySubmittedDate",sortable:!1},{name:"processedAt",label:"Processed Date",align:"left",field:"displayProcessedDate",sortable:!0},{name:"name",label:"Customer Name",align:"left",field:"displayLeadName",sortable:!0,editable:!0},{name:"mobile",label:"Customer Contact",field:"displayLeadContactNo",align:"left",sortable:!0},{name:"email",label:"Customer Email",align:"left",field:"displayLeadEmail",sortable:!1},{name:"state",label:"State",align:"left",field:"state",sortable:!0},{name:"assigned_to",label:"SC Code",field:"salesConsultantCode",align:"left",sortable:!0},{name:"branch",label:"Branch Code",field:"getBranchCode",align:"left",sortable:!0}])},"5b11":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),name:this.attr(""),warranty:this.attr(""),startDate:this.attr(""),endDate:this.attr(""),hideDate:this.attr("")}}get isHidden(){const e=new Date,t=new Date(this.hideDate);return e>t}}n()(s,"entity","exhibitions"),n()(s,"primaryKey","uuid"),n()(s,"columns",[{name:"name",label:"Campaign Name",align:"left",field:"name",sortable:!0,editable:!0},{name:"startDate",label:"Start Date",align:"left",field:"startDate",sortable:!0,editable:!0},{name:"endDate",label:"End Date",align:"left",field:"endDate",sortable:!0,editable:!0},{name:"hideDate",label:"Hide Date",align:"left",field:"hideDate",sortable:!0,editable:!0}])},"5f36":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a("ddb0");var r=a("9523"),n=a.n(r),i=a("b09d"),s=a("a193"),o=a("ebd1"),l=a("0937"),d=a("b178");const{formatDate:u}=d["e"];class c extends l["b"]{static fields(){return{uuid:this.attr(null),attachedDocumentDeposit:this.attr(""),deliveryAddress:this.attr(""),designs:this.attr([]),jobId:this.attr(""),leadId:this.attr(""),paidAmount:this.attr(0),quotationNumber:this.attr(""),paidAmountDeposit:this.attr(0),promoAmount:this.attr(0),promoCode:this.attr(""),propertySize:this.attr(0),remarks:this.attr(""),state:this.attr(""),status:this.attr(""),campaign:this.attr(""),cancelReason:this.attr(""),cancelRemark:this.attr(""),paymentOptionsId:this.attr(""),totalApprovedAmount:this.attr(0),createdAt:this.attr(""),updatedAt:this.attr(""),lead:this.belongsTo(s["a"],"leadId","uuid"),paymentAttachments:this.hasMany(i["a"],"finalConfirmationOrderId")}}get getId(){return this.$id}get displayLeadName(){return this.lead?this.lead.name:""}get displayLeadContactNo(){return this.lead?this.lead.phone:""}get displayLeadEmail(){return this.lead?this.lead.email:""}get displayCreatedAt(){return u(this.createdAt,"DD MMM YYYY")}get displayTotalAmount(){const e=this.designs?this.designs.reduce((e,t)=>{let a=0;return this.designs.forEach(e=>{a+=Math.ceil(e.totalInstallationCharges),a+=Math.ceil(e.transportationCharge),a+=Math.ceil(e.installerOutstationCharge),a+=Math.ceil(e.discountedTotalPrice)}),Math.floor(a-t.lumpsum)},0):0;return e.toFixed(2)}get calculateGrandTotal(){let e=0;for(const t of c.all()){const a=t.designs?t.designs.reduce((e,t)=>{let a=0;return a=t.totalInstallationCharges+t.transportationCharge+t.installerOutstationCharge,Math.floor(e+t.discountedTotalPrice+a-t.lumpsum)},0):0;e+=a}return console.log("Grand Total is "+e),e}get displayStatusForFCO(){const e={"Follow Up":"Upload Payment / Document",Pending:"Pending BM Approval","BM Rejected":"Rejected - BM level 1",Submitted:"Pending HQAC approval","HQA Rejected":"Rejected - HQAC level 2",Detailer:"Pending Detailer",Production:"Production"};return e[this.status]}get displayStatusForOC(){if("FCO"===this.state)return"FCO Submission";const e={New:"Upload Payment / Document","Pending Approval":"Pending Approval",Cancelled:"Cancelled",Acknowledged:"Acknowledged",Rejected:"Rejected"};return e[this.status]}get drawingNumbers(){const e=this.designs?this.designs.map(e=>e.drawingNumber):[];return e.join(", ")}get salesConsultantCode(){const{uuid:e}=this.lead,[t]=s["a"].query().withAll().whereId(e).get();if(!t.salesConsultant)return"Unassigned";const{uuid:a}=t.salesConsultant,[r]=o["a"].query().withAll().whereId(a).get();return r.profile.sccode}get getBranchCode(){const{uuid:e}=this.lead,[t]=s["a"].query().withAll().whereId(e).get();return t.branch?t.branch.code:"Unassigned"}get getBodyRequest(){return{state:this.state,status:this.status}}get getCampaign(){return this.lead.campaign}}n()(c,"entity","final-confirmation-orders"),n()(c,"primaryKey","uuid"),n()(c,"columns",[{name:"createdAt",label:"Order Date",align:"left",field:"displayCreatedAt",sortable:!1},{name:"name",label:"Customer Name",align:"left",field:"displayLeadName",sortable:!0,editable:!0},{name:"mobile",label:"Customer Contact",field:"displayLeadContactNo",align:"left",sortable:!0},{name:"email",label:"Customer Email",align:"left",field:"displayLeadEmail",sortable:!1},{name:"amount",label:"Total Amount",align:"left",field:"displayTotalAmount",sortable:!1},{name:"campaign",label:"Campaign",align:"left",field:"getCampaign",sortable:!1},{name:"statusForFCO",label:"Status",field:"displayStatusForFCO",align:"left",sortable:!0},{name:"statusForOC",label:"Status",field:"displayStatusForOC",align:"left",sortable:!0},{name:"assigned_to",label:"SC Code",field:"salesConsultantCode",align:"left",sortable:!0},{name:"branch",label:"Branch Code",field:"getBranchCode",align:"left",sortable:!0}])},"5fec":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),category:this.attr(""),subcategory:this.attr(""),name:this.attr(""),itemcode:this.attr(""),processcode:this.attr(""),virture:this.attr(""),brand:this.attr(""),material:this.attr(""),colour:this.attr(""),profile:this.attr(""),puom:this.attr(""),suom:this.attr(""),fraction:this.attr(""),stdcost:this.attr(""),markuprate:this.attr(""),part:this.attr(""),nonstdrate:this.attr(""),installationCharges:this.attr(""),dealerprice:this.attr(""),active:this.attr(""),oversea:this.attr(""),overseadealerprice:this.attr("")}}}n()(s,"entity","loose-items"),n()(s,"primaryKey","uuid"),n()(s,"columns",[{name:"uuid",required:!0,label:"Id",align:"center",field:"uuid",sortable:!0},{name:"category",required:!0,label:"Category",align:"left",field:"category",sortable:!0},{name:"subcategory",label:"Subcategory",align:"left",field:"subcategory",sortable:!0,editable:!0},{name:"name",label:"Name",align:"left",field:"name",sortable:!1},{name:"itemcode",label:"Item Code",align:"left",field:"itemcode",sortable:!0},{name:"processcode",label:"Process Code",align:"left",field:"processcode",sortable:!0},{name:"virture",label:"Virture",align:"left",field:"virture"},{name:"brand",label:"Brand",field:"brand",align:"left",sortable:!0,editable:!0},{name:"material",label:"Material",field:"material",align:"left",sortable:!0},{name:"colour",label:"Colour",field:"colour",align:"left",sortable:!0},{name:"profile",label:"Profile",field:"profile",align:"left",sortable:!0},{name:"puom",label:"puom",field:"puom",align:"left",sortable:!0},{name:"suom",label:"suom",field:"suom",align:"left",sortable:!0},{name:"fraction",label:"Fraction",field:"fraction",align:"left",sortable:!0},{name:"stdcost",label:"Std Cost",field:"stdcost",align:"left",sortable:!0},{name:"markuprate",label:"Markup Rate",field:"markuprate",align:"left",sortable:!0},{name:"part",label:"Part",field:"part",align:"left",sortable:!0},{name:"nonstdrate",label:"Non Std-rate",field:"nonstdrate",align:"left",sortable:!0},{name:"installationcharges",label:"Installation Charges",field:"installationCharges",align:"left",sortable:!0},{name:"dealerprice",label:"Dealer Price",field:"dealerprice",align:"left",sortable:!0},{name:"active",label:"Active",field:"active",align:"left",sortable:!0},{name:"oversea",label:"Oversea",field:"oversea",align:"left",sortable:!0},{name:"overseadealerprice",label:"Oversea Dealer Price",field:"overseaDealerPrice",align:"left",sortable:!0}])},"62b8":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),category:this.attr(""),subcategory:this.attr(""),name:this.attr(""),itemcode:this.attr(""),brand:this.attr(""),material:this.attr(""),colour:this.attr(""),uom:this.attr(""),stdcost:this.attr(0),SMPrice:this.attr(0),markuprate:this.attr(0),dealerprice:this.attr(0),active:this.attr(""),oversea:this.attr(!1),overseaDealerprice:this.attr(0),createdAt:this.attr(""),updatedAt:this.attr("")}}}n()(s,"entity","service-report-items"),n()(s,"primaryKey","uuid"),n()(s,"columns",[{name:"uuid",required:!0,label:"Id",align:"center",field:"uuid",sortable:!0},{name:"category",required:!0,label:"Category",align:"left",field:"category",sortable:!0},{name:"subcategory",label:"Subcategory",align:"left",field:"subcategory",sortable:!0,editable:!0},{name:"name",label:"Name",align:"left",field:"name",sortable:!1},{name:"itemcode",label:"Item Code",align:"left",field:"itemcode",sortable:!0},{name:"brand",label:"Brand",field:"brand",align:"left",sortable:!0,editable:!0},{name:"material",label:"Material",field:"material",align:"left",sortable:!0},{name:"colour",label:"Colour",field:"colour",align:"left",sortable:!0},{name:"uom",label:"uom",field:"uom",align:"left",sortable:!0},{name:"stdcost",label:"Std Cost",field:"stdcost",align:"left",sortable:!0},{name:"SMPrice",label:"SM Price",field:"SMPrice",align:"left",sortable:!0},{name:"markuprate",label:"Markup Rate",field:"markuprate",align:"left",sortable:!0},{name:"dealerprice",label:"Dealer Price",field:"dealerprice",align:"left",sortable:!0},{name:"active",label:"Active",field:"active",align:"left",sortable:!0},{name:"oversea",label:"Oversea",field:"oversea",align:"left",sortable:!0},{name:"overseaDealerprice",label:"Oversea Dealer Price",field:"overseaDealerprice",align:"left",sortable:!0}])},"6e14":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),color_code:this.attr(""),brand:this.attr(""),showInCrm:this.attr(""),profile:this.attr(""),price:this.attr("")}}}n()(s,"entity","materials"),n()(s,"primaryKey","uuid"),n()(s,"columns",[{name:"uuid",required:!0,label:"Id",align:"center",field:"uuid",sortable:!0},{name:"color_code",required:!0,label:"Color Code",align:"left",field:"color_code",sortable:!0},{name:"brand",label:"Brand",align:"left",field:"brand",sortable:!0,editable:!0},{name:"showInCrm",label:"Show In Sfm",align:"left",field:"showInCrm",sortable:!0,editable:!0},{name:"profile",label:"Profile",align:"left",field:"profile",sortable:!0,editable:!0},{name:"price",label:"Price",align:"left",field:"price",sortable:!0,editable:!0}])},"764d":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("9523"),n=a.n(r),i=a("0937"),s=a("a193"),o=a("ed08");class l extends i["b"]{static fields(){return{uuid:this.attr(null),GSTNo:this.attr(0),SSMNo:this.attr(0),address1:this.attr(""),address2:this.attr(""),code:this.attr(""),country:this.attr(""),createdAt:this.attr(""),email:this.attr(""),faxno:this.attr(""),isInRR:this.attr(!1),leadcapacity:this.attr(0),logo:this.attr(0),multiplier:this.attr(0),name:this.attr(""),priority:this.attr(0),state:this.attr(""),telno:this.attr(""),type:this.attr(""),updatedAt:this.attr(""),leads:this.hasMany(s["a"],"branchId")}}get getId(){return this.$id}get getBodyRequest(){return{GSTNo:this.GSTNo,SSMNo:this.SSMNo,address1:this.address1,address2:this.address2,branchId:this.branchId,code:this.code,country:this.country,email:this.email,faxno:this.faxno,leadcapacity:this.leadcapacity,logo:this.logo,multiplier:this.multiplier,name:this.name,priority:this.priority,state:this.state,telno:this.telno,type:this.type}}get displayType(){const e={dealer:"Dealer Branch",home:"Home Branch"};return e[this.type]}get displayTelNo(){return this.telno?Object(o["b"])(this.telno):""}get displayFaxNo(){return this.faxno?Object(o["b"])(this.faxno):""}}n()(l,"entity","branches"),n()(l,"primaryKey","uuid"),n()(l,"columns",[{name:"name",required:!0,label:"Name",align:"left",field:"name",sortable:!0},{name:"code",label:"Code",align:"left",field:"code",sortable:!0},{name:"type",label:"Type",align:"left",field:"displayType",sortable:!0},{name:"telno",label:"Telephone No",align:"left",field:"displayTelNo",sortable:!0},{name:"faxno",label:"Fax No.",align:"left",field:"displayFaxNo",sortable:!0},{name:"email",label:"Email",align:"left",field:"email",sortable:!0},{name:"address1",label:"Address Line 1",align:"left",field:"address1",sortable:!0},{name:"address2",label:"Address Line 2",align:"left",field:"address2",sortable:!0},{name:"state",label:"State",align:"left",field:"state",sortable:!0},{name:"country",label:"Country",align:"left",field:"country",sortable:!0},{name:"SSMNo",label:"SSM",align:"left",field:"SSMNo",sortable:!0},{name:"GSTNo",label:"GST",align:"left",field:"GSTNo",sortable:!0}])},"7f47":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{alpha2Code:this.attr(""),alpha3Code:this.attr(""),name:this.attr(""),flag:this.attr("")}}}n()(s,"entity","country"),n()(s,"primaryKey","alpha3code")},"83f9":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),name:this.attr(""),brandGoodName:this.attr(""),productNumber:this.attr(""),drawingNumber:this.attr("")}}get getBodyRequest(){return{name:this.name,brandGoodName:this.brandGoodName,productNumber:this.productNumber,drawingNumber:this.drawingNumber}}}n()(s,"entity","missing-items"),n()(s,"primaryKey","uuid")},a0eb:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("9523"),n=a.n(r),i=a("0937"),s=a("a193");class o extends i["b"]{static fields(){return{uuid:this.attr(null),state:this.attr(""),leadId:this.attr(""),drawingNumber:this.attr(""),isIncludedInstallationCharge:this.attr(!1),isIncludedInstallerOutstationCharge:this.attr(""),isIncludedTransportationCharge:this.attr(""),isIncludedWorktopOutstationCharge:this.attr(""),jobPart:this.attr(""),quotationNumber:this.attr(""),referenceName:this.attr(""),materials:this.attr(""),installerOutstationDistance:this.attr(0),installerOutstationCharge:this.attr(0),transportationDistance:this.attr(0),transportationCharge:this.attr(0),totalInstallationCharges:this.attr(0),totalPriceDrawingItems:this.attr(0),discountedTotalPriceDrawingItems:this.attr(0),totalPriceTradingItems:this.attr(0),discountedTotalPriceTradingItems:this.attr(0),totalPriceLooseItems:this.attr(0),discountedTotalPriceLooseItems:this.attr(0),totalPriceOtherItems:this.attr(0),discountedTotalPriceOtherItems:this.attr(0),totalPrice:this.attr(0),discountedTotalPrice:this.attr(0),masterItemDiscount:this.attr(0),finalConfirmationOrderId:this.attr(""),lead:this.belongsTo(s["a"],"leadId"),createdAt:this.attr(""),deletedAt:this.attr(""),updatedAt:this.attr("")}}}n()(o,"entity","designs"),n()(o,"primaryKey","uuid")},a193:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));a("ddb0");var r=a("9523"),n=a.n(r),i=a("0937"),s=a("764d"),o=a("a0eb"),l=a("ebd1"),d=a("5421"),u=a("ed08"),c=a("b178");const{formatDate:m}=c["e"];class h extends i["b"]{static fields(){return{uuid:this.attr(null),name:this.attr(""),timestamp:this.attr(""),updatedAt:this.attr(""),email:this.attr(""),phone:this.attr(""),location:this.attr(""),property_type:this.attr(""),age:this.attr(""),property_value:this.attr(""),time_contact:this.attr(""),source_lead:this.attr(""),exhibition:this.attr(""),channel_contact:this.attr(""),campaign:this.attr(""),state:this.attr(""),status:this.attr(""),branchId:this.attr(""),userId:this.attr(""),rejectReason:this.attr(""),requalifyReason:this.attr(""),noteToBranch:this.attr(""),remarks:this.attr(""),race:this.attr(""),propertyStatus:this.attr(""),renovationStatus:this.attr(""),propertyUsageStatus:this.attr(""),buildUpSizeSquareFeet:this.attr(""),siteAddress:this.attr(""),birthday:this.attr(""),lostReason:this.attr(""),lostRemark:this.attr(""),type:this.attr(""),address1:this.attr(""),address2:this.attr(""),postcode:this.attr(""),city:this.attr(""),country:this.attr(""),locationState:this.attr(""),branch:this.belongsTo(s["a"],"branchId"),salesConsultant:this.belongsTo(l["a"],"userId"),createdByUserUuid:this.attr(""),designs:this.hasMany(o["a"],"leadId"),serviceReports:this.hasMany(d["a"],"leadId")}}get getId(){return this.$id}get quotationNumber(){return this.designs.length?this.designs[0].quotationNumber:""}get getBodyRequest(){var e,t,a,r,n,i,s,o,l;return{state:this.state,status:this.status,branchId:null!==(e=this.branchId)&&void 0!==e?e:"",userId:null!==(t=this.userId)&&void 0!==t?t:"",createdByUserUuid:null!==(a=this.createdByUserUuid)&&void 0!==a?a:"",rejectReason:null!==(r=this.rejectReason)&&void 0!==r?r:"",requalifyReason:null!==(n=this.requalifyReason)&&void 0!==n?n:"",noteToBranch:null!==(i=this.noteToBranch)&&void 0!==i?i:"",race:null!==(s=this.race)&&void 0!==s?s:"",siteAddress:null!==(o=this.siteAddress)&&void 0!==o?o:"",age:null!==(l=this.age)&&void 0!==l?l:"",address1:this.address1,address2:this.address2,postcode:this.postcode,city:this.city,country:this.country,locationState:this.locationState,name:this.name,email:this.email,phone:this.phone,location:this.location,property_type:this.property_type,source_lead:this.source_lead,type:this.type,propertyStatus:this.propertyStatus,renovationStatus:this.renovationStatus,propertyUsageStatus:this.propertyUsageStatus,buildUpSizeSquareFeet:this.buildUpSizeSquareFeet}}get salesConsultantCode(){if(!this.salesConsultant)return"Unassigned";const{uuid:e}=this.salesConsultant,[t]=l["a"].query().withAll().whereId(e).get();return t.profile?t.profile.sccode:""}get createdByUserCode(){if(!this.createdByUserUuid)return"Unproposed";const[e]=l["a"].query().withAll().whereId(this.createdByUserUuid).get();return e.profile?e.profile.sccode:""}get getBranchCode(){return this.branch?this.branch.code:""}get displayUpdatedAt(){return m(this.updatedAt,"DD MMM YYYY")}get displayTelNo(){return this.phone?Object(u["b"])(this.phone):""}get displayStatusAccordingToRole(){if("OL"===this.state){const e={raw:"New",Assigned:"Assigned",disqualified:"Disqualified"};return e[this.status]}if("QL"===this.state){const e={New:"New","Pending Visit":"Follow Up",Assigned:"Assigned",disqualified:"Disqualified"};return e[this.status]}return this.status}}n()(h,"entity","leads"),n()(h,"primaryKey","uuid"),n()(h,"columns",[{name:"updatedAt",label:"Received Date",field:"displayUpdatedAt",align:"left",sortable:!0,editable:!0},{name:"name",label:"Customer Name",align:"left",field:"name",sortable:!0,editable:!0},{name:"phone",label:"Customer Contact",field:"displayTelNo",align:"left",sortable:!0,editable:!0},{name:"email",label:"Customer Email",align:"left",field:"email",sortable:!1},{name:"property_type",label:"Property Name",field:"property_type",align:"left",sortable:!0},{name:"rejectReason",label:"Rejection Reason",field:"rejectReason",align:"left",sortable:!0},{name:"requalifyReason",label:"Requalify Reason",field:"requalifyReason",align:"left",sortable:!0},{name:"noteToBranch",label:"Remarks",field:"noteToBranch",align:"left",sortable:!0},{name:"campaign",label:"Campaign",align:"left",field:"campaign"},{name:"status",label:"Status",field:"displayStatusAccordingToRole",align:"left",sortable:!0},{name:"created_by",label:"Created by SC Code",field:"createdByUserCode",align:"left",sortable:!0},{name:"assigned_to",label:"Assigned to SC Code",field:"salesConsultantCode",align:"left",sortable:!0},{name:"branch",label:"Branch Code",field:"getBranchCode",align:"left",sortable:!0},{name:"address1",label:"Billing Address Line 1",align:"left",field:"address1",sortable:!0},{name:"address2",label:"Billing Address Line 2",align:"left",field:"address2",sortable:!0},{name:"state",label:"State",align:"left",field:"locationState",sortable:!0},{name:"country",label:"Country",align:"left",field:"country",sortable:!0},{name:"postcode",label:"Postcode",align:"left",field:"postcode",sortable:!0},{name:"city",label:"City",align:"left",field:"city",sortable:!0}])},abc9:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("9523"),n=a.n(r),i=a("0937"),s=a("0006"),o=a("ebd1");class l extends i["b"]{static fields(){return{userId:this.attr(""),roleId:this.attr(""),user:this.belongsTo(o["a"],"userId"),role:this.belongsTo(s["a"],"roleId")}}}n()(l,"entity","userrole"),n()(l,"primaryKey",["userId","roleId"])},add6:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(""),drawingNumber:this.attr(""),kujialeSequenceId:this.attr(0),itemId:this.attr(""),parentItemId:this.attr(""),name:this.attr(""),brandGoodName:this.attr(""),brandGoodCode:this.attr(""),material:this.attr(""),colour:this.attr(""),profile:this.attr(""),width:this.attr(""),height:this.attr(""),depth:this.attr(""),totalItemProcessCost:this.attr(0),ccost:this.attr(0),stdCost:this.attr(0),markupRate:this.attr(0),nonStdRate:this.attr(0),totalCost:this.attr(0),rrp:this.attr(0),quantity:this.attr(0)}}get getBodyRequest(){return{uuid:this.uuid,drawingNumber:this.drawingNumber,kujialeSequenceId:this.kujialeSequenceId,itemId:this.itemId,parentItemId:this.parentItemId,name:this.name,brandGoodName:this.brandGoodName,brandGoodCode:this.brandGoodCode,material:this.material,colour:this.colour,profile:this.profile,width:this.width,height:this.height,depth:this.depth,totalItemProcessCost:this.totalItemProcessCost,ccost:this.ccost,stdCost:this.stdCost,markupRate:this.markupRate,nonStdRate:this.nonStdRate,totalCost:this.totalCost,rrp:this.rrp,quantity:this.quantity}}}n()(s,"entity","calculation-logs"),n()(s,"primaryKey","uuid"),n()(s,"columns",[{name:"uuid",required:!0,label:"Id",align:"center",field:"uuid",sortable:!0},{name:"drawingNumber",required:!0,label:"Drawing Number",align:"left",field:"drawingNumber",sortable:!0},{name:"kujialeSequenceId",label:"Kujiale Sequence ID",align:"left",field:"kujialeSequenceId",sortable:!0},{name:"itemId",label:"Item ID",align:"left",field:"itemId",sortable:!0,editable:!0},{name:"parentItemId",label:"Parent Item ID",align:"left",field:"parentItemId",sortable:!1},{name:"name",label:"Name",align:"left",field:"name",sortable:!0},{name:"brandGoodName",label:"Brand Good Name",align:"left",field:"brandGoodName"},{name:"brandGoodCode",label:"Brand Good Code",field:"brandGoodCode",align:"left",sortable:!0,editable:!0},{name:"material",label:"Material",field:"material",align:"left",sortable:!0},{name:"colour",label:"Colour",field:"colour",align:"left",sortable:!0},{name:"profile",label:"Profile",field:"profile",align:"left",sortable:!0},{name:"width",label:"Width",field:"width",align:"left",sortable:!0},{name:"height",label:"Height",field:"height",align:"left",sortable:!0},{name:"depth",label:"Depth",field:"depth",align:"left",sortable:!0},{name:"totalItemProcessCost",label:"Total Item Process Cost",field:"totalItemProcessCost",align:"left",sortable:!0},{name:"ccost",label:"ccost",field:"ccost",align:"left",sortable:!0},{name:"stdCost",label:"Std-rate",field:"stdCost",align:"left",sortable:!0},{name:"markupRate",label:"Markup Rate",field:"markupRate",align:"left",sortable:!0},{name:"nonstdrate",label:"Non Std-rate",field:"nonstdrate",align:"left",sortable:!0},{name:"totalCost",label:"Total Cost",field:"totalCost",align:"left",sortable:!0},{name:"rrp",label:"Rrp",field:"rrp",align:"left",sortable:!0},{name:"quantity",label:"Quantity",field:"quantity",align:"left",sortable:!0}])},b09d:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("9523"),n=a.n(r),i=a("5f36"),s=a("0937");class o extends s["b"]{static fields(){return{uuid:this.attr(""),name:this.attr(""),fileName:this.attr(""),type:this.attr(""),amount:this.attr(0),finalConfirmationOrderId:this.attr(""),approvedAmount:this.attr(0),status:this.attr(""),fco:this.belongsTo(i["a"],"finalConfirmationOrderId")}}}n()(o,"entity","payment-attachments"),n()(o,"primaryKey","uuid")},b675:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),name:this.attr(""),createdAt:this.attr("")}}}n()(s,"entity","zone"),n()(s,"primaryKey","uuid")},c2e8:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{uuid:this.attr(null),category:this.attr(""),subcategory:this.attr(""),name:this.attr(""),itemcode:this.attr(""),virture:this.attr(""),brand:this.attr(""),material:this.attr(""),colour:this.attr(""),profile:this.attr(""),puom:this.attr(""),suom:this.attr(""),fraction:this.attr(""),stdcost:this.attr(""),markuprate:this.attr(""),part:this.attr(""),nonstdrate:this.attr(""),installationcharges:this.attr(""),dealerprice:this.attr(""),active:this.attr(""),oversea:this.attr(""),overseadealerprice:this.attr("")}}}n()(s,"entity","item-lists"),n()(s,"primaryKey","uuid"),n()(s,"columns",[{name:"uuid",required:!0,label:"Id",align:"center",field:"uuid",sortable:!0},{name:"category",required:!0,label:"Category",align:"left",field:"category",sortable:!0},{name:"subcategory",label:"Subcategory",align:"left",field:"subcategory",sortable:!0,editable:!0},{name:"name",label:"Name",align:"left",field:"name",sortable:!1},{name:"itemcode",label:"Item Code",align:"left",field:"itemcode",sortable:!0},{name:"virture",label:"Virture",align:"left",field:"virture"},{name:"brand",label:"Brand",field:"brand",align:"left",sortable:!0,editable:!0},{name:"material",label:"Material",field:"material",align:"left",sortable:!0},{name:"colour",label:"Colour",field:"colour",align:"left",sortable:!0},{name:"profile",label:"Profile",field:"profile",align:"left",sortable:!0},{name:"puom",label:"Puom",field:"puom",align:"left",sortable:!0},{name:"suom",label:"Suom",field:"suom",align:"left",sortable:!0},{name:"fraction",label:"Fraction",field:"fraction",align:"left",sortable:!0},{name:"stdcost",label:"Std Cost",field:"stdcost",align:"left",sortable:!0},{name:"markuprate",label:"Markup Rate",field:"markuprate",align:"left",sortable:!0},{name:"part",label:"Part",field:"part",align:"left",sortable:!0},{name:"nonstdrate",label:"Non Std-rate",field:"nonstdrate",align:"left",sortable:!0},{name:"installationcharges",label:"Installation Charges",field:"installationcharges",align:"left",sortable:!0},{name:"dealerprice",label:"Dealer Price",field:"dealerprice",align:"left",sortable:!0},{name:"active",label:"Active",field:"active",align:"left",sortable:!0},{name:"oversea",label:"Oversea",field:"oversea",align:"left",sortable:!0},{name:"overseadealerprice",label:"Oversea Dealer Price",field:"overseadealerprice",align:"left",sortable:!0}])},cfc5:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("9523"),n=a.n(r),i=a("0937");class s extends i["b"]{static fields(){return{id:this.uid(),string:this.attr("")}}}n()(s,"entity","containers")},d600:function(e,t,a){"use strict";t["a"]=Object.freeze({MODULE_ALL:"SKAllPermissions",MODULE_USER_MANAGEMENT:"SKModuleUserManagement",USER_ADD:"SKAddUser",USER_EDIT:"SKEditUser",USER_DELETE:"SKDeleteUser",USER_ASSIGN_SCOPE:"SKAssignUserScope",USER_ASSIGN_ROLE:"SKAssignUserRole",MODULE_BRANCH_MANAGEMENT:"SKModuleBranchManagement",BRANCH_ADD:"SKAddBranch",BRANCH_EDIT:"SKEditBranch",BRANCH_DELETE:"SKDeleteBranch",MODULE_ITEM_LIST:"SKModuleItemList",ITEM_LIST_IMPORT:"SKImportItemList",ITEM_LIST_DOWNLOAD:"SKDownloadItemList",ITEM_LIST_VIEW_HISTORY:"SKViewItemListHistory",MODULE_ONLINE_LEADS:"SKModuleOnlineLeads",ONLINE_LEADS_QUALIFY:"SKQualifyOnlineLeads",ONLINE_LEADS_DISQUALIFY:"SKDisqualifyOnlineLeads",MODULE_QUALIFIED_LEADS:"SKModuleQualifiedLeads",QUALIFIED_LEADS_TO_DESIGN:"SKSendQualifiedLeadsToDesign",QUALIFIED_LEADS_ASSIGN:"SKAssignQualifiedLeads",QUALIFIED_LEADS_ADD:"SKAddQualifiedLeads",QUALIFIED_LEADS_REQUALIFY:"SKRequalifyQualifiedLeads",QUALIFIED_LEADS_DISQUALIFY:"SKDisqualifyQualifiedLeads",QUALIFIED_LEADS_CAMPAIGN_CHANGE:"SkReqCampaignChangesQualifiedLeads",MODULE_DESIGN_PROPOSAL:"SKModuleDesignProposal",DESIGN_OPEN_EXTERNAL:"SKOpenExternalDesignCad",MODULE_CAMPAIGN:"SKModuleCampaign",MODULE_ORDER_CONFIRMATION:"SKModuleOrderConfirmation",MODULE_SERVICE_REPORT:"SKModuleServiceReport",MODULE_MAINTENANCE_REPORT:"SKModuleMaintenanceReport"})},ebd1:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a("9523"),n=a.n(r),i=a("0937"),s=a("0006"),o=a("764d"),l=a("0f30"),d=a("abc9"),u=a("ed08");class c extends i["b"]{static fields(){return{createdAt:this.attr(""),updatedAt:this.attr(""),deletedAt:this.attr(""),uuid:this.attr(null),name:this.attr(""),mobile:this.attr(""),email:this.attr(""),loginId:this.attr(""),status:this.attr(""),branchId:this.attr(""),active:this.attr(!0),kujialeEmail:this.attr(""),appUID:this.attr(""),roles:this.belongsToMany(s["a"],d["a"],"userId","roleId"),branch:this.belongsTo(o["a"],"branchId"),profile:this.hasOne(l["a"],"userId")}}get branch_name(){if(this.branch)return this.branch.name}get branch_code(){if(this.branch)return this.branch.code}get getStatus(){return this.active?"Active":"Inactive"}get getId(){return this.$id}get countRow(){this.index+=1}get getBodyRequest(){return{name:this.name,sccode:this.sccode,email:this.email,loginId:this.loginId,mobile:this.mobile,branchId:this.branchId}}get role(){return this.roles.length?this.roles[0].displayName:""}get displayTelNo(){return this.mobile?Object(u["b"])(this.mobile):""}}n()(c,"entity","user"),n()(c,"primaryKey","uuid"),n()(c,"columns",[{name:"name",required:!0,label:"User Name",align:"left",field:"name",sortable:!0},{name:"loginId",required:!0,label:"Login ID",align:"left",field:"loginId",sortable:!0},{name:"SCCode",label:"User Code",align:"left",field:e=>{if(e.profile)return e.profile.sccode},sortable:!0},{name:"branch_name",label:"Branch Name",align:"left",field:e=>{if(e.branch)return e.branch.name},sortable:!0},{name:"branch_code",label:"Branch Code",align:"left",field:e=>{if(e.branch)return e.branch.code},sortable:!0},{name:"roles",label:"User Role",align:"left",field:e=>{if(e.roles.length)return e.roles[0].displayName},sortable:!0},{name:"contact",label:"User Contact",align:"left",field:"displayTelNo",sortable:!0},{name:"email",label:"User Email",align:"left",field:"email",sortable:!0},{name:"status",label:"User Status",align:"left",field:"getStatus",sortable:!0},{name:"kujialeEmail",label:"Design Cad 4.0 Email",align:"left",field:"kujialeEmail",sortable:!0},{name:"appUID",label:"Design Cad 4.0 AppUID",align:"left",field:"appUID",sortable:!0}])},ed08:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"h",(function(){return d})),a.d(t,"a",(function(){return u}));a("5319");function r(e,t){return!t||("undefined"===typeof t||(!(!Array.isArray(t)||0!==t.length)||e.some(e=>t.includes(e))))}function n(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function i(e,t=","){for(var a="object"!==typeof e?JSON.parse(e):e,r="",n=0;n<a.length;n++){var i="";for(const e in a[n])""!==i&&(i+=t),i+=`"${a[n][e]}"`;r+=i+"\r\n"}return r}function s(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)}function o(e){const t=/^(\+?6?0)[0-46-9]-*[0-9]{7,8}$/,a=/^(\+?6?0?1)[0-46-9]-*[0-9]{7,8}$/;return t.test(e)||a.test(e)}function l(e){const t=e.toString().replace("-",""),a="1"===t[1];let r;if(a){const e=/^(\+?6?01\d)-*([0-9]{7,9})$/;r=t.match(e)}else{const e=/^(\+?6?0\d)-*([0-9]{7,9})$/;r=t.match(e)}return r?r[1].toString()+"-"+r[2].toString():e}function d(e){const t={branchManager:"Branch Manager",callcenter:"Call Center",hQAccountant:"HQ Accountant",hQManager:"HQ Manager",hQsalessupport:"HQ Sales Support",marketing:"Marketing",salesconsultant:"Sales Consultant",sysadmin:"System Admin",detailer:"Detailer",purchaser:"Purchaser",logistic:"Logistic",factory:"Factory"};return t[e]}function u(e,t,a){let r=0;return e.forEach((n,i)=>{t.call(a,n,i,e)&&(i!==r&&(e[r]=n),r++)}),e.length=r,e}},f246:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("9523"),n=a.n(r),i=a("0937"),s=a("ebd1");class o extends i["b"]{static fields(){return{uuid:this.attr(null),createdAt:this.attr(""),updatedAt:this.attr(""),deletedAt:this.attr(""),user:this.belongsTo(s["a"],"userUuid")}}}n()(o,"entity","session"),n()(o,"primaryKey","uuid")}});